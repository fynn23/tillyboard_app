import{_ as xe,c as Y,o as M,d as Z,t as Fe,h as y,aj as nr,U as rr,F as zt,r as Ht,n as J,i as R,H as Zt,V as Ot,y as fe,q as ge,a as ze,s as xt,ak as K,b as _e,j as oe,l as be,al as Ue,L as Fn,am as ir,an as or,ao as ar,ap as lr,aq as sr,ar as Ln,as as cr,f as Rn,A as je,J as Se,z as me,u as wn,at as ur,B as dr,K as fr,P as vr,au as W,T as hr,av as mr,p as Le}from"./main-BYESN2Bt.js";import{e as gr,a as pr}from"./wwElement-BtiUWi1v.js";import{s as wr}from"./wwSection-CE2_hyHU.js";const Kt={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event"],setup(e,{emit:n}){const r=y(()=>!1),t=y(()=>{var s;return((s=e.content)==null?void 0:s.fileUrl)||""}),i=y(()=>{var s;return((s=e.content)==null?void 0:s.fileName)||"download"}),c=y(()=>{var s;return((s=e.content)==null?void 0:s.useVCard)??!0}),l=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardFirstName)||"John"}),u=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardLastName)||"Doe"}),a=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardEmail)||"john.doe@example.com"}),d=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardPhone)||"+1234567890"}),f=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardCompany)||"Example Company"}),C=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardJobTitle)||"Software Developer"}),k=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardWebsite)||"https://example.com"}),B=y(()=>{var s;return((s=e.content)==null?void 0:s.vCardAddress)||"123 Main St, City, Country"}),{value:L,setValue:m}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"downloadStatus",type:"string",defaultValue:"ready"}),x=()=>{const E=new Date().toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VCARD","VERSION:3.0",`N:${u.value};${l.value};;;`,`FN:${l.value} ${u.value}`,`ORG:${f.value}`,`TITLE:${C.value}`,`EMAIL;type=INTERNET;type=WORK:${a.value}`,`TEL;type=CELL:${d.value}`,`URL:${k.value}`,`ADR;type=WORK:;;${B.value}`,`REV:${E}`,"END:VCARD"].join(`
`)},I=()=>{r.value||!t.value||(m("downloading"),fetch(t.value).then(s=>{if(!s.ok)throw new Error("Network response was not ok");return s.blob()}).then(s=>{const E=document.createElement("a");E.download=i.value,E.href=URL.createObjectURL(s),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href),m("completed"),n("trigger-event",{name:"downloaded",event:{value:i.value}})}).catch(s=>{console.error("Error downloading file:",s),m("error"),n("trigger-event",{name:"error",event:{value:"Failed to download file"}})}))},v=()=>{if(!r.value)try{m("downloading");const s=x(),E=new Blob([s],{type:"text/vcard"}),w=document.createElement("a"),S=`${l.value}_${u.value}.vcf`;w.download=S,w.href=URL.createObjectURL(E),document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(w.href),m("completed"),n("trigger-event",{name:"downloaded",event:{value:S}})}catch(s){console.error("Error creating vCard:",s),m("error"),n("trigger-event",{name:"error",event:{value:"Failed to create vCard"}})}};return{fileUrl:t,fileName:i,useVCard:c,downloadStatus:L,isEditing:r,handleDownload:()=>{c.value?v():I()},setDownloadStatus:m}}},yn=()=>{nr(e=>{var n,r;return{"496b5ce5":((n=e.props.content)==null?void 0:n.downloadButtonColor)||"#48c774","39d8d5cf":((r=e.props.content)==null?void 0:r.downloadButtonHoverColor)||"#3abb67"}})},bn=Kt.setup;Kt.setup=bn?(e,n)=>(yn(),bn(e,n)):yn;const yr={class:"file-downloader"},br={class:"download-container"},Sr=["disabled"];function _r(e,n,r,t,i,c){return M(),Y("div",yr,[Z("div",br,[Z("button",{class:"download-btn",onClick:n[0]||(n[0]=(...l)=>t.handleDownload&&t.handleDownload(...l)),disabled:t.isEditing||!t.useVCard&&!t.fileUrl}," Download "+Fe(t.useVCard?"Contact":"File"),9,Sr)])])}const xr=xe(Kt,[["render",_r],["__scopeId","data-v-54a3c88d"]]);var it={exports:{}},Sn;function zr(){if(Sn)return it.exports;Sn=1,it.exports=e,it.exports.addWheelListener=e,it.exports.removeWheelListener=n;function e(r,t,i){r.addEventListener("wheel",t,i)}function n(r,t,i){r.removeEventListener("wheel",t,i)}return it.exports}var ot={exports:{}},Lt,_n;function Or(){if(_n)return Lt;_n=1;var e=4,n=.001,r=1e-7,t=10,i=11,c=1/(i-1),l=typeof Float32Array=="function";function u(m,x){return 1-3*x+3*m}function a(m,x){return 3*x-6*m}function d(m){return 3*m}function f(m,x,I){return((u(x,I)*m+a(x,I))*m+d(x))*m}function C(m,x,I){return 3*u(x,I)*m*m+2*a(x,I)*m+d(x)}function k(m,x,I,v,O){var s,E,w=0;do E=x+(I-x)/2,s=f(E,v,O)-m,s>0?I=E:x=E;while(Math.abs(s)>r&&++w<t);return E}function B(m,x,I,v){for(var O=0;O<e;++O){var s=C(x,I,v);if(s===0)return x;var E=f(x,I,v)-m;x-=E/s}return x}function L(m){return m}return Lt=function(x,I,v,O){if(!(0<=x&&x<=1&&0<=v&&v<=1))throw new Error("bezier x values must be in [0, 1] range");if(x===I&&v===O)return L;for(var s=l?new Float32Array(i):new Array(i),E=0;E<i;++E)s[E]=f(E*c,x,v);function w(S){for(var g=0,T=1,p=i-1;T!==p&&s[T]<=S;++T)g+=c;--T;var V=(S-s[T])/(s[T+1]-s[T]),A=g+V*c,_=C(A,x,v);return _>=n?B(S,A,x,v):_===0?A:k(S,g,g+c,x,v)}return function(g){return g===0?0:g===1?1:f(w(g),I,O)}},Lt}var xn;function Cr(){if(xn)return ot.exports;xn=1;var e=Or(),n={ease:e(.25,.1,.25,1),easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1),linear:e(0,0,1,1)};ot.exports=r,ot.exports.makeAggregateRaf=u,ot.exports.sharedScheduler=u();function r(a,d,f){var C=Object.create(null),k=Object.create(null);f=f||{};var B=typeof f.easing=="function"?f.easing:n[f.easing];B||(f.easing&&console.warn("Unknown easing function in amator: "+f.easing),B=n.ease);var L=typeof f.step=="function"?f.step:t,m=typeof f.done=="function"?f.done:t,x=i(f.scheduler),I=Object.keys(d);I.forEach(function(T){C[T]=a[T],k[T]=d[T]-a[T]});var v=typeof f.duration=="number"?f.duration:400,O=Math.max(1,v*.06),s,E=0;return s=x.next(S),{cancel:w};function w(){x.cancel(s),s=0}function S(){var T=B(E/O);E+=1,g(T),E<=O?(s=x.next(S),L(a)):(s=0,setTimeout(function(){m(a)},0))}function g(T){I.forEach(function(p){a[p]=k[p]*T+C[p]})}}function t(){}function i(a){if(!a){var d=typeof window<"u"&&window.requestAnimationFrame;return d?c():l()}if(typeof a.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof a.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return a}function c(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function l(){return{next:function(a){return setTimeout(a,1e3/60)},cancel:function(a){return clearTimeout(a)}}}function u(){var a=new Set,d=new Set,f=0;return{next:k,cancel:k,clearAll:C};function C(){a.clear(),d.clear(),cancelAnimationFrame(f),f=0}function k(m){d.add(m),B()}function B(){f||(f=requestAnimationFrame(L))}function L(){f=0;var m=d;d=a,a=m,a.forEach(function(x){x()}),a.clear()}}return ot.exports}var Rt,zn;function Ir(){if(zn)return Rt;zn=1,Rt=function(t){n(t);var i=e(t);return t.on=i.on,t.off=i.off,t.fire=i.fire,t};function e(r){var t=Object.create(null);return{on:function(i,c,l){if(typeof c!="function")throw new Error("callback is expected to be a function");var u=t[i];return u||(u=t[i]=[]),u.push({callback:c,ctx:l}),r},off:function(i,c){var l=typeof i>"u";if(l)return t=Object.create(null),r;if(t[i]){var u=typeof c!="function";if(u)delete t[i];else for(var a=t[i],d=0;d<a.length;++d)a[d].callback===c&&a.splice(d,1)}return r},fire:function(i){var c=t[i];if(!c)return r;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var u=0;u<c.length;++u){var a=c[u];a.callback.apply(a.ctx,l)}return r}}}function n(r){if(!r)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],i=0;i<t.length;++i)if(r.hasOwnProperty(t[i]))throw new Error("Subject cannot be eventified, since it already has property '"+t[i]+"'")}return Rt}var Vt,On;function Tr(){if(On)return Vt;On=1,Vt=e;function e(t,i,c){typeof c!="object"&&(c={});var l=typeof c.minVelocity=="number"?c.minVelocity:5,u=typeof c.amplitude=="number"?c.amplitude:.25,a=typeof c.cancelAnimationFrame=="function"?c.cancelAnimationFrame:n(),d=typeof c.requestAnimationFrame=="function"?c.requestAnimationFrame:r(),f,C,k=342,B,L,m,x,I,v,O,s;return{start:w,stop:g,cancel:E};function E(){a(B),a(s)}function w(){f=t(),x=O=L=I=0,C=new Date,a(B),a(s),B=d(S)}function S(){var p=Date.now(),V=p-C;C=p;var A=t(),_=A.x-f.x,N=A.y-f.y;f=A;var ae=1e3/(1+V);L=.8*_*ae+.2*L,I=.8*N*ae+.2*I,B=d(S)}function g(){a(B),a(s);var p=t();m=p.x,v=p.y,C=Date.now(),(L<-l||L>l)&&(x=u*L,m+=x),(I<-l||I>l)&&(O=u*I,v+=O),s=d(T)}function T(){var p=Date.now()-C,V=!1,A=0,_=0;x&&(A=-x*Math.exp(-p/k),A>.5||A<-.5?V=!0:A=x=0),O&&(_=-O*Math.exp(-p/k),_>.5||_<-.5?V=!0:_=O=0),V&&(i(m+A,v+_),s=d(T))}}function n(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function r(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}return Vt}var Bt,Cn;function Dr(){if(Cn)return Bt;Cn=1,Bt=e;function e(t){if(t)return{capture:r,release:r};var i,c,l,u=!1;return{capture:a,release:d};function a(f){u=!0,c=window.document.onselectstart,l=window.document.ondragstart,window.document.onselectstart=n,i=f,i.ondragstart=n}function d(){u&&(u=!1,window.document.onselectstart=c,i&&(i.ondragstart=l))}}function n(t){return t.stopPropagation(),!1}function r(){}return Bt}var $t,In;function Er(){if(In)return $t;In=1,$t=e;function e(){this.x=0,this.y=0,this.scale=1}return $t}var yt={exports:{}},Tn;function kr(){if(Tn)return yt.exports;Tn=1,yt.exports=e,yt.exports.canAttach=n;function e(r,t){if(!n(r))throw new Error("svg element is required for svg.panzoom to work");var i=r.ownerSVGElement;if(!i)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||i.setAttribute("tabindex",0);var c={getBBox:u,getScreenCTM:a,getOwner:l,applyTransform:f,initTransform:d};return c;function l(){return i}function u(){var C=r.getBBox();return{left:C.x,top:C.y,width:C.width,height:C.height}}function a(){var C=i.getCTM();return C||i.getScreenCTM()}function d(C){var k=r.getCTM();k===null&&(k=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),C.x=k.e,C.y=k.f,C.scale=k.a,i.removeAttributeNS(null,"viewBox")}function f(C){r.setAttribute("transform","matrix("+C.scale+" 0 0 "+C.scale+" "+C.x+" "+C.y+")")}}function n(r){return r&&r.ownerSVGElement&&r.getCTM}return yt.exports}var bt={exports:{}},Dn;function Ar(){if(Dn)return bt.exports;Dn=1,bt.exports=e,bt.exports.canAttach=n;function e(r,t){var i=n(r);if(!i)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var c=r.parentElement;r.scrollTop=0,t.disableKeyboardInteraction||c.setAttribute("tabindex",0);var l={getBBox:a,getOwner:u,applyTransform:d};return l;function u(){return c}function a(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function d(f){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+f.scale+", 0, 0, "+f.scale+", "+f.x+", "+f.y+")"}}function n(r){return r&&r.parentElement&&r.style}return bt.exports}var Mt,En;function Fr(){if(En)return Mt;En=1;var e=zr(),n=Cr(),r=Ir(),t=Tr(),i=Dr(),c=i(),l=i(!0),u=Er(),a=kr(),d=Ar(),f=1,C=1.75,k=300,B=200;Mt=L;function L(S,g){g=g||{};var T=g.controller;if(T||(a.canAttach(S)?T=a(S,g):d.canAttach(S)&&(T=d(S,g))),!T)throw new Error("Cannot create panzoom for the current type of dom element");var p=T.getOwner(),V={x:0,y:0},A=!1,_=new u;T.initTransform&&T.initTransform(_);var N=typeof g.filterKey=="function"?g.filterKey:I,ae=typeof g.pinchSpeed=="number"?g.pinchSpeed:1,H=g.bounds,q=typeof g.maxZoom=="number"?g.maxZoom:Number.POSITIVE_INFINITY,X=typeof g.minZoom=="number"?g.minZoom:0,G=typeof g.boundsPadding=="number"?g.boundsPadding:.05,te=typeof g.zoomDoubleClickSpeed=="number"?g.zoomDoubleClickSpeed:C,le=g.beforeWheel||I,ne=g.beforeMouseDown||I,ve=typeof g.zoomSpeed=="number"?g.zoomSpeed:f,re=m(g.transformOrigin),We=g.enableTextSelection?l:c;v(H),g.autocenter&&Dt();var Oe,He=0,at=0,Ce=0,lt=null,Ze=new Date,Re,Ie=!1,Te=!1,se,ie,Ke,Ve,Ye,ee;"smoothScroll"in g&&!g.smoothScroll?ee=E():ee=t(kt,Hn,g.smoothScroll);var Je,he,ce,De=!1;Gt();var Be={dispose:Zn,moveBy:Pe,moveTo:$e,smoothMoveTo:de,centerOn:ue,zoomTo:pt,zoomAbs:P,smoothZoom:gt,smoothZoomAbs:er,showRectangle:dt,pause:It,resume:Tt,isPaused:ut,getTransform:Et,getMinZoom:Ge,setMinZoom:Qe,getMaxZoom:et,setMaxZoom:ft,getTransformOrigin:Ee,setTransformOrigin:tt,getZoomSpeed:we,setZoomSpeed:vt};r(Be);var Xe=typeof g.initialX=="number"?g.initialX:_.x,st=typeof g.initialY=="number"?g.initialY:_.y,ct=typeof g.initialZoom=="number"?g.initialZoom:_.scale;return(Xe!=_.x||st!=_.y||ct!=_.scale)&&P(Xe,st,ct),Be;function It(){Qt(),De=!0}function Tt(){De&&(Gt(),De=!1)}function ut(){return De}function dt(o){var h=p.getBoundingClientRect(),b=pe(h.width,h.height),D=o.right-o.left,$=o.bottom-o.top;if(!Number.isFinite(D)||!Number.isFinite($))throw new Error("Invalid rectangle");var U=b.x/D,j=b.y/$,Q=Math.min(U,j);_.x=-(o.left+D/2)*Q+b.x/2,_.y=-(o.top+$/2)*Q+b.y/2,_.scale=Q}function pe(o,h){if(T.getScreenCTM){var b=T.getScreenCTM(),D=b.a,$=b.d,U=b.e,j=b.f;V.x=o*D-U,V.y=h*$-j}else V.x=o,V.y=h;return V}function Dt(){var o,h,b=0,D=0,$=ht();if($)b=$.left,D=$.top,o=$.right-$.left,h=$.bottom-$.top;else{var U=p.getBoundingClientRect();o=U.width,h=U.height}var j=T.getBBox();if(!(j.width===0||j.height===0)){var Q=h/j.height,qe=o/j.width,Ae=Math.min(qe,Q);_.x=-(j.left+j.width/2)*Ae+o/2+b,_.y=-(j.top+j.height/2)*Ae+h/2+D,_.scale=Ae}}function Et(){return _}function Ge(){return X}function Qe(o){X=o}function et(){return q}function ft(o){q=o}function Ee(){return re}function tt(o){re=m(o)}function we(){return ve}function vt(o){if(!Number.isFinite(o))throw new Error("Zoom speed should be a number");ve=o}function kt(){return{x:_.x,y:_.y}}function $e(o,h){_.x=o,_.y=h,Me(),Ne("pan"),z()}function ke(o,h){$e(_.x+o,_.y+h)}function Me(){var o=ht();if(o){var h=!1,b=At(),D=o.left-b.right;return D>0&&(_.x+=D,h=!0),D=o.right-b.left,D<0&&(_.x+=D,h=!0),D=o.top-b.bottom,D>0&&(_.y+=D,h=!0),D=o.bottom-b.top,D<0&&(_.y+=D,h=!0),h}}function ht(){if(H){if(typeof H=="boolean"){var o=p.getBoundingClientRect(),h=o.width,b=o.height;return{left:h*G,top:b*G,right:h*(1-G),bottom:b*(1-G)}}return H}}function At(){var o=T.getBBox(),h=Xt(o.left,o.top);return{left:h.x,top:h.y,right:o.width*_.scale+h.x,bottom:o.height*_.scale+h.y}}function Xt(o,h){return{x:o*_.scale+_.x,y:h*_.scale+_.y}}function z(){A=!0,Oe=window.requestAnimationFrame(Kn)}function F(o,h,b){if(s(o)||s(h)||s(b))throw new Error("zoom requires valid numbers");var D=_.scale*b;if(D<X){if(_.scale===X)return;b=X/_.scale}if(D>q){if(_.scale===q)return;b=q/_.scale}var $=pe(o,h);if(_.x=$.x-b*($.x-_.x),_.y=$.y-b*($.y-_.y),H&&G===1&&X===1)_.scale*=b,Me();else{var U=Me();U||(_.scale*=b)}Ne("zoom"),z()}function P(o,h,b){var D=b/_.scale;F(o,h,D)}function ue(o){var h=o.ownerSVGElement;if(!h)throw new Error("ui element is required to be within the scene");var b=o.getBoundingClientRect(),D=b.left+b.width/2,$=b.top+b.height/2,U=h.getBoundingClientRect(),j=U.width/2-D,Q=U.height/2-$;Pe(j,Q,!0)}function de(o,h){Pe(o-_.x,h-_.y,!0)}function Pe(o,h,b){if(!b)return ke(o,h);Je&&Je.cancel();var D={x:0,y:0},$={x:o,y:h},U=0,j=0;Je=n(D,$,{step:function(Q){ke(Q.x-U,Q.y-j),U=Q.x,j=Q.y}})}function Hn(o,h){wt(),$e(o,h)}function Zn(){Qt()}function Gt(){p.addEventListener("mousedown",sn,{passive:!1}),p.addEventListener("dblclick",ln,{passive:!1}),p.addEventListener("touchstart",tn,{passive:!1}),p.addEventListener("keydown",en,{passive:!1}),e.addWheelListener(p,vn,{passive:!1}),z()}function Qt(){e.removeWheelListener(p,vn),p.removeEventListener("mousedown",sn),p.removeEventListener("keydown",en),p.removeEventListener("dblclick",ln),p.removeEventListener("touchstart",tn),Oe&&(window.cancelAnimationFrame(Oe),Oe=0),ee.cancel(),dn(),fn(),We.release(),Ft()}function Kn(){A&&Yn()}function Yn(){A=!1,T.applyTransform(_),Ne("transform"),Oe=0}function en(o){var h=0,b=0,D=0;if(o.keyCode===38?b=1:o.keyCode===40?b=-1:o.keyCode===37?h=1:o.keyCode===39?h=-1:o.keyCode===189||o.keyCode===109?D=1:(o.keyCode===187||o.keyCode===107)&&(D=-1),!N(o,h,b,D)){if(h||b){o.preventDefault(),o.stopPropagation();var $=p.getBoundingClientRect(),U=Math.min($.width,$.height),j=.05,Q=U*j*h,qe=U*j*b;Pe(Q,qe)}if(D){var Ae=hn(D*100),U=re?rt():Jn();pt(U.x,U.y,Ae)}}}function Jn(){var o=p.getBoundingClientRect();return{x:o.width/2,y:o.height/2}}function tn(o){if(Xn(o),nt(),o.touches.length===1)return Qn(o,o.touches[0]);o.touches.length===2&&(Ye=an(o.touches[0],o.touches[1]),ce=!0,nn())}function Xn(o){g.onTouch&&!g.onTouch(o)||(o.stopPropagation(),o.preventDefault())}function Gn(o){nt(),!(g.onDoubleClick&&!g.onDoubleClick(o))&&(o.preventDefault(),o.stopPropagation())}function Qn(o){at=new Date;var h=o.touches[0],b=ye(h);Re=b;var D=pe(b.x,b.y);se=D.x,ie=D.y,Ke=se,Ve=ie,ee.cancel(),nn()}function nn(){Ie||(Ie=!0,document.addEventListener("touchmove",rn),document.addEventListener("touchend",mt),document.addEventListener("touchcancel",mt))}function rn(o){if(o.touches.length===1){o.stopPropagation();var h=o.touches[0],b=ye(h),D=pe(b.x,b.y),$=D.x-se,U=D.y-ie;$!==0&&U!==0&&mn(),se=D.x,ie=D.y,Pe($,U)}else if(o.touches.length===2){ce=!0;var j=o.touches[0],Q=o.touches[1],qe=an(j,Q),Ae=1+(qe/Ye-1)*ae,gn=ye(j),pn=ye(Q);if(se=(gn.x+pn.x)/2,ie=(gn.y+pn.y)/2,re){var b=rt();se=b.x,ie=b.y}pt(se,ie,Ae),Ye=qe,o.stopPropagation(),o.preventDefault()}}function nt(){Ce&&(clearTimeout(Ce),Ce=0)}function on(o){if(g.onClick){nt();var h=se-Ke,b=ie-Ve,D=Math.sqrt(h*h+b*b);D>5||(Ce=setTimeout(function(){Ce=0,g.onClick(o)},k))}}function mt(o){if(nt(),o.touches.length>0){var h=ye(o.touches[0]),b=pe(h.x,h.y);se=b.x,ie=b.y}else{var D=new Date;if(D-He<k)if(re){var h=rt();gt(h.x,h.y,te)}else gt(Re.x,Re.y,te);else D-at<B&&on(o);He=D,Ft(),fn()}}function an(o,h){var b=o.clientX-h.clientX,D=o.clientY-h.clientY;return Math.sqrt(b*b+D*D)}function ln(o){Gn(o);var h=ye(o);re&&(h=rt()),gt(h.x,h.y,te)}function sn(o){if(nt(),!ne(o)){if(lt=o,Ze=new Date,Ie)return o.stopPropagation(),!1;var h=o.button===1&&window.event!==null||o.button===0;if(h){ee.cancel();var b=ye(o),D=pe(b.x,b.y);return Ke=se=D.x,Ve=ie=D.y,document.addEventListener("mousemove",cn),document.addEventListener("mouseup",un),We.capture(o.target||o.srcElement),!1}}}function cn(o){if(!Ie){mn();var h=ye(o),b=pe(h.x,h.y),D=b.x-se,$=b.y-ie;se=b.x,ie=b.y,Pe(D,$)}}function un(){var o=new Date;o-Ze<B&&on(lt),We.release(),Ft(),dn()}function dn(){document.removeEventListener("mousemove",cn),document.removeEventListener("mouseup",un),Te=!1}function fn(){document.removeEventListener("touchmove",rn),document.removeEventListener("touchend",mt),document.removeEventListener("touchcancel",mt),Te=!1,ce=!1,Ie=!1}function vn(o){if(!le(o)){ee.cancel();var h=o.deltaY;o.deltaMode>0&&(h*=100);var b=hn(h);if(b!==1){var D=re?rt():ye(o);pt(D.x,D.y,b),o.preventDefault()}}}function ye(o){var h,b,D=p.getBoundingClientRect();return h=o.clientX-D.left,b=o.clientY-D.top,{x:h,y:b}}function gt(o,h,b){var D=_.scale,$={scale:D},U={scale:b*D};ee.cancel(),wt(),he=n($,U,{step:function(j){P(o,h,j.scale)},done:tr})}function er(o,h,b){var D=_.scale,$={scale:D},U={scale:b};ee.cancel(),wt(),he=n($,U,{step:function(j){P(o,h,j.scale)}})}function rt(){var o=p.getBoundingClientRect();return{x:o.width*re.x,y:o.height*re.y}}function pt(o,h,b){return ee.cancel(),wt(),F(o,h,b)}function wt(){he&&(he.cancel(),he=null)}function hn(o){var h=Math.sign(o),b=Math.min(.25,Math.abs(ve*o/128));return 1-h*b}function mn(){Te||(Ne("panstart"),Te=!0,ee.start())}function Ft(){Te&&(ce||ee.stop(),Ne("panend"))}function tr(){Ne("zoomend")}function Ne(o){Be.fire(o,Be)}}function m(S){if(S){if(typeof S=="object")return(!O(S.x)||!O(S.y))&&x(S),S;x()}}function x(S){throw console.error(S),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function I(){}function v(S){var g=typeof S;if(!(g==="undefined"||g==="boolean")){var T=O(S.left)&&O(S.top)&&O(S.bottom)&&O(S.right);if(!T)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function O(S){return Number.isFinite(S)}function s(S){return Number.isNaN?Number.isNaN(S):S!==S}function E(){return{start:I,stop:I,cancel:I}}function w(){if(typeof document>"u")return;var S=document.getElementsByTagName("script");if(!S)return;for(var g,T=0;T<S.length;++T){var p=S[T];if(p.src&&p.src.match(/\bpanzoom(\.min)?\.js/)){g=p;break}}if(!g)return;var V=g.getAttribute("query");if(!V)return;var A=g.getAttribute("name")||"pz",_=Date.now();N();function N(){var q=document.querySelector(V);if(!q){var X=Date.now(),G=X-_;if(G<2e3){setTimeout(N,100);return}console.error("Cannot find the panzoom element",A);return}var te=ae(g);console.log(te),window[A]=L(q,te)}function ae(q){for(var X=q.attributes,G={},te=0;te<X.length;++te){var le=X[te],ne=H(le);ne&&(G[ne.name]=ne.value)}return G}function H(q){if(q.name){var X=q.name[0]==="p"&&q.name[1]==="z"&&q.name[2]==="-";if(X){var G=q.name.substr(3),te=JSON.parse(q.value);return{name:G,value:te}}}}}return w(),Mt}var Lr=Fr();const Rr=rr(Lr),Vr={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event"],setup(e,{emit:n}){const r=R(null),t=R(null),i=R(null),c=R(null),l=R(!1),u=R(null),a=R({x:0,y:0}),d=y(()=>{var w;return((w=e.content)==null?void 0:w.images)||[]}),f=y(()=>{var w;return((w=e.content)==null?void 0:w.minZoom)||.1}),C=y(()=>{var w;return((w=e.content)==null?void 0:w.maxZoom)||3});y(()=>{var w,S;return((S=(w=c.value)==null?void 0:w.getTransform())==null?void 0:S.scale)||1});const k=w=>{var S;return{transform:`translate(${(w==null?void 0:w.x)||0}px, ${(w==null?void 0:w.y)||0}px)`,cursor:l.value&&((S=u.value)==null?void 0:S.id)===w.id?"grabbing":"grab"}},B=()=>{t.value&&(c.value=Rr(t.value,{minZoom:f.value,maxZoom:C.value,bounds:!0,boundsPadding:.1}),c.value.on("zoom",w=>{n("trigger-event",{name:"zoomChanged",event:{value:w.getTransform().scale}})}))},L=(w,S)=>{var T;if(!S)return;l.value=!0,u.value=S;const g=w.target.getBoundingClientRect();a.value={x:w.clientX-(g.left+(S.x||0)),y:w.clientY-(g.top+(S.y||0))},(T=c.value)==null||T.pause(),document.addEventListener("mousemove",m),document.addEventListener("mouseup",x)},m=w=>{if(!l.value||!u.value)return;const S=w.clientX-a.value.x,g=w.clientY-a.value.y;d.value.map(T=>T.id===u.value.id?{...T,x:S,y:g}:T),n("trigger-event",{name:"positionChanged",event:{value:{id:u.value.id,x:S,y:g}}})},x=()=>{var w;l.value=!1,u.value=null,(w=c.value)==null||w.resume(),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)},I=()=>{var w;(w=i.value)==null||w.click()},v=async w=>{var g,T;const S=(T=(g=w.target)==null?void 0:g.files)==null?void 0:T[0];if(S)try{const p=URL.createObjectURL(S),A={id:`image-${Date.now()}`,url:p,x:0,y:0};n("trigger-event",{name:"imageAdded",event:{value:A}}),i.value&&(i.value.value="")}catch(p){console.error("Error uploading image:",p)}},O=()=>{var w;(w=c.value)==null||w.zoomIn()},s=()=>{var w;(w=c.value)==null||w.zoomOut()},E=()=>{var w;(w=c.value)==null||w.reset(),n("trigger-event",{name:"zoomChanged",event:{value:1}})};return Zt(()=>{B()}),Ot(()=>{c.value&&c.value.dispose()}),{boardRef:r,canvasRef:t,fileInput:i,images:d,getImageStyle:k,startDrag:L,triggerFileInput:I,handleFileUpload:v,zoomIn:O,zoomOut:s,resetView:E}}},Br={class:"canvas-board",ref:"boardRef"},$r={class:"canvas-container",ref:"canvasRef"},Mr=["onMousedown"],Pr=["src","alt"],Nr={class:"canvas-controls"};function qr(e,n,r,t,i,c){return M(),Y("div",Br,[Z("div",$r,[(M(!0),Y(zt,null,Ht(t.images,l=>(M(),Y("div",{key:l.id,class:"canvas-item",style:J(t.getImageStyle(l)),onMousedown:u=>t.startDrag(u,l)},[Z("img",{src:l.url,alt:l.id},null,8,Pr)],44,Mr))),128))],512),Z("div",Nr,[Z("button",{onClick:n[0]||(n[0]=(...l)=>t.triggerFileInput&&t.triggerFileInput(...l)),class:"upload-btn"},n[5]||(n[5]=[Z("span",null,"Upload Image",-1)])),Z("button",{onClick:n[1]||(n[1]=(...l)=>t.zoomIn&&t.zoomIn(...l))},"+"),Z("button",{onClick:n[2]||(n[2]=(...l)=>t.zoomOut&&t.zoomOut(...l))},"-"),Z("button",{onClick:n[3]||(n[3]=(...l)=>t.resetView&&t.resetView(...l))},"Reset")]),Z("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:n[4]||(n[4]=(...l)=>t.handleFileUpload&&t.handleFileUpload(...l))},null,544)],512)}const Ur=xe(Vr,[["render",qr],["__scopeId","data-v-9c7fc76a"]]),jr={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0},wwFrontState:{type:Object,required:!0}},emits:["update:content:effect","trigger-event"],setup(e){const{value:n,setValue:r}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"number",defaultValue:y(()=>{let t=parseInt(e.content.value);return isNaN(t)&&(t=0),t===void 0?0:t})});return{variableValue:n,setValue:r}},computed:{value(){let e=parseInt(this.variableValue);return isNaN(e)?0:e},cssVariables(){return{"--progression":`${this.value}%`,"--selector-color":`${this.content.progressBarColor}`}}},watch:{"content.value"(e){e!==void 0&&(e=parseInt(this.content.value),isNaN(e)&&(e=0),e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"change",event:{value:e}})))}}},Wr={class:"progression"};function Hr(e,n,r,t,i,c){const l=fe("wwElement",!0);return M(),Y("div",{class:"ww-progress-bar",style:J(c.cssVariables)},[Z("div",Wr,[r.content.label==="progress"?(M(),ge(l,xt({key:0},r.content.progressionLabel,{"ww-props":{text:`${c.value}%`}}),null,16,["ww-props"])):ze("",!0)]),r.content.label==="element"?(M(),ge(l,xt({key:0},r.content.progressionLabel,{"ww-props":{text:`${c.value}%`}}),null,16,["ww-props"])):ze("",!0)],4)}const Zr=xe(jr,[["render",Hr],["__scopeId","data-v-a2fe58ef"]]),Kr={props:{content:{type:Object,required:!0}},emits:["remove-multiselect-value"],setup(e,{emit:n}){const r=K("_wwSelect:registerTriggerLocalContext"),t=K("_wwSelect:localContext"),i=y(()=>e.content.selectType==="single"),c=y(()=>wwLib.wwLang.getText(e.content.placeholder)),l=y(()=>{var v,O,s,E,w;return(w=(E=(s=(O=(v=t.value)==null?void 0:v.data)==null?void 0:O.select)==null?void 0:s.active)==null?void 0:E.details)==null?void 0:w.label}),u=y(()=>{var v,O,s,E,w,S,g,T,p,V;return!!((w=(E=(s=(O=(v=t.value)==null?void 0:v.data)==null?void 0:O.select)==null?void 0:s.active)==null?void 0:E.details)!=null&&w.label)||((V=(p=(T=(g=(S=t.value)==null?void 0:S.data)==null?void 0:g.select)==null?void 0:T.active)==null?void 0:p.details)==null?void 0:V.length)>0}),a=y(()=>{var v,O,s,E;return(E=(s=(O=(v=t.value)==null?void 0:v.data)==null?void 0:O.select)==null?void 0:s.utils)==null?void 0:E.isOpen}),d=R({placeholder:c});r({data:d,methods:{},markdown:"### Select Trigger local informations\n\n- `placeholder`: The placeholder text for the select trigger."});const C=y(()=>{const v=e.content.triggerBorder?{"border-top":e.content.triggerBorderTop,"border-right":e.content.triggerBorderRight,"border-bottom":e.content.triggerBorderBottom,"border-left":e.content.triggerBorderLeft}:{border:e.content.triggerBorderAll};return{padding:e.content.triggerPadding,margin:e.content.triggerMargin,"background-color":e.content.triggerBgColor,width:"100%",height:e.content.triggerHeight,"border-radius":e.content.triggerBorderRadius,"box-shadow":e.content.triggerShadows,cursor:"pointer",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between",...v}}),k=y(()=>({"font-size":e.content.triggerIconSize,color:e.content.triggerIconColor})),B=y(()=>({"font-size":e.content.selectedFontSize,"font-family":e.content.selectedFontFamily,color:e.content.selectedFontColor,"font-weight":e.content.selectedFontWeight,"text-align":e.content.selectedTextAlign,width:"100%"})),L=y(()=>({"font-size":e.content.placeholderFontSize,"font-family":e.content.placeholderFontFamily,color:e.content.placeholderFontColor,"font-weight":e.content.placeholderFontWeight,"text-align":e.content.placeholderTextAlign,width:"100%"})),m=y(()=>{const v=e.content.chipBorder?{"border-top":e.content.chipBorderTop,"border-right":e.content.chipBorderRight,"border-bottom":e.content.chipBorderBottom,"border-left":e.content.chipBorderLeft}:{border:e.content.chipBorderAll};return{"font-size":e.content.chipFontSize,"font-family":e.content.chipFontFamily,color:e.content.chipFontColor,"font-weight":e.content.chipFontWeight,padding:e.content.chipPadding,"background-color":e.content.chipBgColor,"border-radius":e.content.chipBorderRadius,...v}}),x=y(()=>({"font-size":e.content.chipIconSize,color:e.content.chipIconColor}));return{isSingleSelect:i,data:d,selectedLabel:l,isOptionSelected:u,localContext:t,triggerStyle:C,triggerIconStyle:k,selectedValueStyle:B,placeholderStyle:L,chipStyle:m,chipIconStyle:x,isOpen:a,handleChipClick:(v,O)=>{v.stopPropagation(),n("remove-multiselect-value",O)}}}},Yr={class:"ww-input-select__trigger"},Jr={key:0,class:"ww-input-select__chip_container"},Xr=["onClick"];function Gr(e,n,r,t,i,c){var l,u,a,d;return M(),Y("div",Yr,[t.isSingleSelect?(M(),Y("div",{key:0,style:J(t.triggerStyle)},[t.isOptionSelected?(M(),Y("span",{key:0,style:J(t.selectedValueStyle)},Fe(t.selectedLabel),5)):(M(),Y("span",{key:1,style:J(t.placeholderStyle)},Fe(t.data.placeholder),5)),Z("div",{class:_e([t.isOpen?r.content.triggerIconOpen:r.content.triggerIconClose]),style:J(t.triggerIconStyle),"aria-hidden":"true"},null,6)],4)):(M(),Y("div",{key:1,style:J(t.triggerStyle)},[t.isOptionSelected?(M(),Y("div",Jr,[(M(!0),Y(zt,null,Ht((d=(a=(u=(l=t.localContext)==null?void 0:l.data)==null?void 0:u.select)==null?void 0:a.active)==null?void 0:d.details,f=>(M(),Y("div",{class:"ww-input-select__chip",key:f.value,onClick:C=>t.handleChipClick(C,f.value),style:J(t.chipStyle)},[Z("span",null,Fe(f.label),1),Z("div",{class:_e([r.content.chipIconUnselect]),style:J(t.chipIconStyle),"aria-hidden":"true"},null,6)],12,Xr))),128))])):(M(),Y("span",{key:1,style:J(t.placeholderStyle)},Fe(t.data.placeholder),5)),Z("div",{class:_e([t.isOpen?r.content.triggerIconOpen:r.content.triggerIconClose]),style:J(t.triggerIconStyle),"aria-hidden":"true"},null,6)],4))])}const Qr=xe(Kr,[["render",Gr],["__scopeId","data-v-e22b6043"]]);function ei({emit:e,optionElement:n,content:r}){const t=wwLib.wwUtils.getUid(),i=`ww-select-option-${r.value}-${t}`,c=K("_wwSelect:activeDescendant",R("")),l=K("_wwSelect:focusFromOptionId",()=>{});return oe(c,()=>{c.value===i&&be(()=>{n.value&&(n.value.focus(),n.value.scrollIntoView({block:"nearest",inline:"nearest"}))})}),{uid:t,optionId:i,focusFromOptionId:l}}const ti={props:{content:{type:Object,required:!0},localData:{type:Object,default:()=>({})}},emits:["update:content","update:sidepanel-content","add-state","remove-state"],setup(e,{emit:n}){const r=y(()=>!1),{resolveMappingFormula:t}=wwLib.wwFormula.useFormula(),i=K("_wwSelect:registerOption",()=>{}),c=K("_wwSelect:unregisterOption",()=>{}),l=R(null),u=y(()=>{var le,ne;return(ne=(le=l.value)==null?void 0:le.componentRef)==null?void 0:ne.$el}),a=K("_wwSelect:value",R("")),d=K("_wwSelect:type",R("simple")),f=K("_wwSelect:setValue",()=>{}),C=K("_wwSelect:isDisabled",R(!1)),k=K("_wwSelect:isReadonly",R(!1)),B=K("_wwSelect:updateValue",()=>{}),L=K("_wwSelect:focusSelectElement",()=>{}),m=K("_wwSelect:activeDescendant",R(null)),x=K("_wwSelect:mappingLabel",R(null)),I=K("_wwSelect:mappingValue",R(null)),v=K("_wwSelect:mappingDisabled",R(null)),O=y(()=>({padding:e.content.optionPadding,"background-color":e.content.optionBgColor,color:e.content.optionFontColor,"font-family":e.content.optionFontFamily,"font-size":e.content.optionFontSize,"font-weight":e.content.optionFontWeight,cursor:e.content.optionCursor,border:e.content.optionBorder,"border-radius":e.content.optionBorderRadius,"--ww-select-option-bg-color-hover":e.content.optionBgColorHover,"--ww-select-option-bg-color-focused":e.content.optionBgColorFocused})),s=y(()=>({"font-size":e.content.optionIconSize,color:e.content.optionIconColor,display:"flex","align-items":"center"})),E=y(()=>t(Ue(x),e.localData)??e.content.label),w=y(()=>t(Ue(I),e.localData)??e.content.value),S=y(()=>t(Ue(v),e.localData)),g=y(()=>p==m.value),T=y(()=>d.value==="single"?a.value===w.value:Array.isArray(a.value)&&a.value.includes(w.value)),{optionId:p,handleKeyDown:V,focusFromOptionId:A}=ei({emit:n,optionElement:u,content:e.content}),_=y(()=>({optionId:p,label:E.value,value:w.value,disabled:S.value,isSelected:T.value,_data:e.localData}));c(p),i(p,Fn(_));const N=y(()=>!r.value&&!S.value&&!C.value&&!k.value),ae=()=>{T.value&&N.value&&e.content.unselectOnClick?(H(),A(null)):!T.value&&N.value&&e.content.selectOnClick&&(B(w.value),A(p),L())},H=()=>{if(N.value)if(d.value==="single")f(null);else{const le=Array.isArray(a.value)?[...a.value]:[];f(le.filter(ne=>ne!==w.value))}},q=R({isSelected:!1,isOptionDisabled:!1,label:"",value:"",_data:{}}),X=()=>{N.value&&B(w.value)};oe([T,S,E,w],([le,ne,ve,re])=>{q.value={isSelected:le,isOptionDisabled:ne,label:ve,value:re,_data:e.localData}},{immediate:!0});const G={select:{description:"Select the current option",method:X,editor:{label:"Select",group:"Select Option",icon:"cursor-click"}}};return Ot(()=>c(p)),{optionRef:l,optionId:p,handleClick:ae,handleKeyDown:V,isFocused:g,activeDescendant:m,option:_,optionStyles:O,optionIconStyle:s,contextMethods:G,data:q,contextMarkdown:"### Select Option local informations\n\n        // - `isSelected`: Boolean indicating if the option is selected\n        // - `isOptionDisabled`: Boolean indicating if the option is disabled\n        // - `label`: The label of the option (will be overwritten if defined in the Select root element)\n        // - `value`: The value of the option (will be overwritten if defined in the Select root element)",isOptionDisabled:S}}},ni=["id","aria-selected","aria-disabled"];function ri(e,n,r,t,i,c){return M(),Y("div",{class:_e(["ww-select-option",t.isFocused?"focused":"",t.isOptionDisabled?"disabled":""]),style:J(t.optionStyles),ref:"optionRef",onClick:n[0]||(n[0]=(...l)=>t.handleClick&&t.handleClick(...l)),onKeydown:n[1]||(n[1]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l)),role:"option",id:t.optionId,"aria-selected":e.isSelected,"aria-disabled":t.isOptionDisabled},[Z("span",null,Fe(t.data.label),1),t.data.isSelected?(M(),Y("div",{key:0,class:_e([r.content.optionIcon]),style:J(t.optionIconStyle),"aria-hidden":"true"},null,6)):ze("",!0)],46,ni)}const Vn=xe(ti,[["render",ri],["__scopeId","data-v-32cf0060"]]);function ii(){var e=window.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);var r=e.indexOf("Trident/");if(r>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let St;function Nt(){Nt.init||(Nt.init=!0,St=ii()!==-1)}var Ct={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Nt(),be(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",St&&this.$el.appendChild(e),e.data="about:blank",St||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!St&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const oi=ar();ir("data-v-b329ee4c");const ai={class:"resize-observer",tabindex:"-1"};or();const li=oi((e,n,r,t,i,c)=>(M(),ge("div",ai)));Ct.render=li;Ct.__scopeId="data-v-b329ee4c";Ct.__file="src/components/ResizeObserver.vue";function _t(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_t=function(n){return typeof n}:_t=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_t(e)}function si(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ci(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function ui(e,n,r){return n&&ci(e.prototype,n),e}function kn(e){return di(e)||fi(e)||vi(e)||hi()}function di(e){if(Array.isArray(e))return qt(e)}function fi(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vi(e,n){if(e){if(typeof e=="string")return qt(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(e,n)}}function qt(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function hi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(e){var n;return typeof e=="function"?n={callback:e}:n=e,n}function gi(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t,i,c,l=function(a){for(var d=arguments.length,f=new Array(d>1?d-1:0),C=1;C<d;C++)f[C-1]=arguments[C];if(c=f,!(t&&a===i)){var k=r.leading;typeof k=="function"&&(k=k(a,i)),(!t||a!==i)&&k&&e.apply(void 0,[a].concat(kn(c))),i=a,clearTimeout(t),t=setTimeout(function(){e.apply(void 0,[a].concat(kn(c))),t=0},n)}};return l._clear=function(){clearTimeout(t),t=null},l}function Bn(e,n){if(e===n)return!0;if(_t(e)==="object"){for(var r in e)if(!Bn(e[r],n[r]))return!1;return!0}return!1}var pi=(function(){function e(n,r,t){si(this,e),this.el=n,this.observer=null,this.frozen=!1,this.createObserver(r,t)}return ui(e,[{key:"createObserver",value:function(r,t){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=mi(r),this.callback=function(u,a){i.options.callback(u,a),u&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var c=this.options.throttleOptions||{},l=c.leading;this.callback=gi(this.callback,this.options.throttle,{leading:function(a){return l==="both"||l==="visible"&&a||l==="hidden"&&!a}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(u){var a=u[0];if(u.length>1){var d=u.find(function(C){return C.isIntersecting});d&&(a=d)}if(i.callback){var f=a.isIntersecting&&a.intersectionRatio>=i.threshold;if(f===i.oldResult)return;i.oldResult=f,i.callback(f,a)}},this.options.intersection),be(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e})();function $n(e,n,r){var t=n.value;if(t)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new pi(e,t,r);e._vue_visibilityState=i}}function wi(e,n,r){var t=n.value,i=n.oldValue;if(!Bn(t,i)){var c=e._vue_visibilityState;if(!t){Mn(e);return}c?c.createObserver(t,r):$n(e,{value:t},r)}}function Mn(e){var n=e._vue_visibilityState;n&&(n.destroyObserver(),delete e._vue_visibilityState)}var yi={beforeMount:$n,updated:wi,unmounted:Mn};function bi(e){return{all:e=e||new Map,on:function(n,r){var t=e.get(n);t&&t.push(r)||e.set(n,[r])},off:function(n,r){var t=e.get(n);t&&t.splice(t.indexOf(r)>>>0,1)},emit:function(n,r){(e.get(n)||[]).slice().map(function(t){t(r)}),(e.get("*")||[]).slice().map(function(t){t(n,r)})}}}var Si={itemsLimit:1e3},_i=/(auto|scroll)/;function Pn(e,n){return e.parentNode===null?n:Pn(e.parentNode,n.concat([e]))}var Pt=function(n,r){return getComputedStyle(n,null).getPropertyValue(r)},xi=function(n){return Pt(n,"overflow")+Pt(n,"overflow-y")+Pt(n,"overflow-x")},zi=function(n){return _i.test(xi(n))};function An(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=Pn(e.parentNode,[]),r=0;r<n.length;r+=1)if(zi(n[r]))return n[r];return document.scrollingElement||document.documentElement}}function Ut(e){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ut(e)}var Nn={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(n){return["vertical","horizontal"].includes(n)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function qn(){return this.items.length&&Ut(this.items[0])!=="object"}var jt=!1;if(typeof window<"u"){jt=!1;try{var Oi=Object.defineProperty({},"passive",{get:function(){jt=!0}});window.addEventListener("test",null,Oi)}catch{}}let Ci=0;var Yt={name:"RecycleScroller",components:{ResizeObserver:Ct},directives:{ObserveVisibility:yi},props:{...Nn,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},n=this.items,r=this.sizeField,t=this.minItemSize;let i=1e4,c=0,l;for(let u=0,a=n.length;u<a;u++)l=n[u][r]||t,l<i&&(i=l),c+=l,e[u]={accumulator:c,size:l};return this.$_computedMinItemSize=i,e}return[]},simpleArray:qn,itemIndexByKey(){const{keyField:e,items:n}=this,r={};for(let t=0,i=n.length;t<i;t++)r[n[t][e]]=t;return r}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,n,r,t,i){const c=sr({id:Ci++,index:n,used:!0,key:t,type:i}),l=Ln({item:r,position:0,nr:c});return e.push(l),l},unuseView(e,n=!1){const r=this.$_unusedViews,t=e.nr.type;let i=r.get(t);i||(i=[],r.set(t,i)),i.push(e),n||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const n=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:r}=this.updateVisibleItems(!1,!0);r||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});n(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&n()},this.updateInterval))}},handleVisibilityChange(e,n){this.ready&&(e||n.boundingClientRect.width!==0||n.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,n=!1){const r=this.itemSize,t=this.gridItems||1,i=this.itemSecondarySize||r,c=this.$_computedMinItemSize,l=this.typeField,u=this.simpleArray?null:this.keyField,a=this.items,d=a.length,f=this.sizes,C=this.$_views,k=this.$_unusedViews,B=this.pool,L=this.itemIndexByKey;let m,x,I,v,O;if(!d)m=x=v=O=I=0;else if(this.$_prerender)m=v=0,x=O=Math.min(this.prerender,a.length),I=null;else{const p=this.getScroll();if(n){let _=p.start-this.$_lastUpdateScrollPosition;if(_<0&&(_=-_),r===null&&_<c||_<r)return{continuous:!0}}this.$_lastUpdateScrollPosition=p.start;const V=this.buffer;p.start-=V,p.end+=V;let A=0;if(this.$refs.before&&(A=this.$refs.before.scrollHeight,p.start-=A),this.$refs.after){const _=this.$refs.after.scrollHeight;p.end+=_}if(r===null){let _,N=0,ae=d-1,H=~~(d/2),q;do q=H,_=f[H].accumulator,_<p.start?N=H:H<d-1&&f[H+1].accumulator>p.start&&(ae=H),H=~~((N+ae)/2);while(H!==q);for(H<0&&(H=0),m=H,I=f[d-1].accumulator,x=H;x<d&&f[x].accumulator<p.end;x++);for(x===-1?x=a.length-1:(x++,x>d&&(x=d)),v=m;v<d&&A+f[v].accumulator<p.start;v++);for(O=v;O<d&&A+f[O].accumulator<p.end;O++);}else{m=~~(p.start/r*t);const _=m%t;m-=_,x=Math.ceil(p.end/r*t),v=Math.max(0,Math.floor((p.start-A)/r*t)),O=Math.floor((p.end-A)/r*t),m<0&&(m=0),x>d&&(x=d),v<0&&(v=0),O>d&&(O=d),I=Math.ceil(d/t)*r}}x-m>Si.itemsLimit&&this.itemsLimitError(),this.totalSize=I;let s;const E=m<=this.$_endIndex&&x>=this.$_startIndex;if(E)for(let p=0,V=B.length;p<V;p++)s=B[p],s.nr.used&&(e&&(s.nr.index=L[s.item[u]]),(s.nr.index==null||s.nr.index<m||s.nr.index>=x)&&this.unuseView(s));const w=E?null:new Map;let S,g,T;for(let p=m;p<x;p++){S=a[p];const V=u?S[u]:S;if(V==null)throw new Error(`Key is ${V} on item (keyField is '${u}')`);if(s=C.get(V),!r&&!f[p].size){s&&this.unuseView(s);continue}g=S[l];let A=k.get(g),_=!1;if(!s)E?A&&A.length?s=A.pop():s=this.addView(B,p,S,V,g):(T=w.get(g)||0,(!A||T>=A.length)&&(s=this.addView(B,p,S,V,g),this.unuseView(s,!0),A=k.get(g)),s=A[T],w.set(g,T+1)),C.delete(s.nr.key),s.nr.used=!0,s.nr.index=p,s.nr.key=V,s.nr.type=g,C.set(V,s),_=!0;else if(!s.nr.used&&(s.nr.used=!0,_=!0,A)){const N=A.indexOf(s);N!==-1&&A.splice(N,1)}s.item=S,_&&(p===a.length-1&&this.$emit("scroll-end"),p===0&&this.$emit("scroll-start")),r===null?(s.position=f[p-1].accumulator,s.offset=0):(s.position=Math.floor(p/t)*r,s.offset=p%t*i)}return this.$_startIndex=m,this.$_endIndex=x,this.emitUpdate&&this.$emit("update",m,x,v,O),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:E}},getListenerTarget(){let e=An(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:n}=this,r=n==="vertical";let t;if(this.pageMode){const i=e.getBoundingClientRect(),c=r?i.height:i.width;let l=-(r?i.top:i.left),u=r?window.innerHeight:window.innerWidth;l<0&&(u+=l,l=0),l+u>c&&(u=c-l),t={start:l,end:l+u}}else r?t={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:t={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return t},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,jt?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let n;const r=this.gridItems||1;this.itemSize===null?n=e>0?this.sizes[e-1].accumulator:0:n=Math.floor(e/r)*this.itemSize,this.scrollToPosition(n)},scrollToPosition(e){const n=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let r,t,i;if(this.pageMode){const c=An(this.$el),l=c.tagName==="HTML"?0:c[n.scroll],u=c.getBoundingClientRect(),d=this.$el.getBoundingClientRect()[n.start]-u[n.start];r=c,t=n.scroll,i=e+l+d}else r=this.$el,t=n.scroll,i=e;r[t]=i},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,n)=>e.nr.index-n.nr.index)}}};const Ii={key:0,ref:"before",class:"vue-recycle-scroller__slot"},Ti={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Di(e,n,r,t,i,c){const l=fe("ResizeObserver"),u=cr("observe-visibility");return Rn((M(),Y("div",{class:_e(["vue-recycle-scroller",{ready:i.ready,"page-mode":r.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:n[0]||(n[0]=(...a)=>c.handleScroll&&c.handleScroll(...a))},[e.$slots.before?(M(),Y("div",Ii,[Se(e.$slots,"before")],512)):ze("v-if",!0),(M(),ge(wn(r.listTag),{ref:"wrapper",style:J({[e.direction==="vertical"?"minHeight":"minWidth"]:i.totalSize+"px"}),class:_e(["vue-recycle-scroller__item-wrapper",r.listClass])},{default:me(()=>[(M(!0),Y(zt,null,Ht(i.pool,a=>(M(),ge(wn(r.itemTag),xt({key:a.nr.id,style:i.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${a.position}px) translate${e.direction==="vertical"?"X":"Y"}(${a.offset}px)`,width:r.gridItems?`${e.direction==="vertical"&&r.itemSecondarySize||r.itemSize}px`:void 0,height:r.gridItems?`${e.direction==="horizontal"&&r.itemSecondarySize||r.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[r.itemClass,{hover:!r.skipHover&&i.hoverKey===a.nr.key}]]},ur(r.skipHover?{}:{mouseenter:()=>{i.hoverKey=a.nr.key},mouseleave:()=>{i.hoverKey=null}})),{default:me(()=>[Se(e.$slots,"default",{item:a.item,index:a.nr.index,active:a.nr.used})]),_:2},1040,["style","class"]))),128)),Se(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(M(),Y("div",Ti,[Se(e.$slots,"after")],512)):ze("v-if",!0),je(l,{onNotify:c.handleResize},null,8,["onNotify"])],34)),[[u,c.handleVisibilityChange]])}Yt.render=Di;Yt.__file="src/components/RecycleScroller.vue";var Jt={name:"DynamicScroller",components:{RecycleScroller:Yt},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(const n of e)if(n.target&&n.target.$_vs_onResize){let r,t;if(n.borderBoxSize){const i=n.borderBoxSize[0];r=i.inlineSize,t=i.blockSize}else r=n.contentRect.width,t=n.contentRect.height;n.target.$_vs_onResize(n.target.$_vs_id,r,t)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...Nn,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:qn,itemsWithSize(){const e=[],{items:n,keyField:r,simpleArray:t}=this,i=this.vscrollData.sizes,c=n.length;for(let l=0;l<c;l++){const u=n[l],a=t?l:u[r];let d=i[a];typeof d>"u"&&!this.$_undefinedMap[a]&&(d=0),e.push({item:u,id:a,size:d})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,n){const r=this.$el.scrollTop;let t=0,i=0;const c=Math.min(e.length,n.length);for(let u=0;u<c&&!(t>=r);u++)t+=n[u].size||this.minItemSize,i+=e[u].size||this.minItemSize;const l=i-t;l!==0&&(this.$el.scrollTop+=l)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=bi()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const n=this.$refs.scroller;n&&n.scrollToItem(e)},getItemSize(e,n=void 0){const r=this.simpleArray?n??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[r]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const n=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(n)})};requestAnimationFrame(n)})}}};function Ei(e,n,r,t,i,c){const l=fe("RecycleScroller");return M(),ge(l,xt({ref:"scroller",items:c.itemsWithSize,"min-item-size":r.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:c.onScrollerResize,onVisible:c.onScrollerVisible}),{default:me(({item:u,index:a,active:d})=>[Se(e.$slots,"default",dr(fr({item:u.item,index:a,active:d,itemWithSize:u})))]),before:me(()=>[Se(e.$slots,"before")]),after:me(()=>[Se(e.$slots,"after")]),empty:me(()=>[Se(e.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}Jt.render=Ei;Jt.__file="src/components/DynamicScroller.vue";var Un={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,n){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const r=this.vscrollData.sizes[n],t=this.vscrollData.sizes[e];r!=null&&r!==t&&this.applySize(r)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const n=this.$el.offsetWidth,r=this.$el.offsetHeight;this.applyWidthHeight(n,r)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,n){const r=~~(this.vscrollParent.direction==="vertical"?n:e);r&&this.size!==r&&this.applySize(r)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,n,r){this.id===e&&this.applyWidthHeight(n,r)}},render(){return lr(this.tag,this.$slots.default())}};Un.__file="src/components/DynamicScrollerItem.vue";function ki(e,n){const t=Ln(new Map),i=(...f)=>JSON.stringify(f),c=(f,...C)=>(t.set(f,e(...C)),t.get(f)),l=(...f)=>c(i(...f),...f),u=(...f)=>{t.delete(i(...f))},a=()=>{t.clear()},d=(...f)=>{const C=i(...f);return t.has(C)?t.get(C):c(C,...f)};return d.load=l,d.delete=u,d.clear=a,d.generateKey=i,d.cache=t,d}const Ai={components:{DynamicScroller:Jt,DynamicScrollerItem:Un,"ww-element-option":Vn},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:sidepanel-content"],setup(e,{emit:n}){y(()=>!1);const r=y(()=>!1),t=K("_wwSelect:rawData",R([])),i=K("_wwSelect:searchState",R(null)),{updateSearch:c}=K("_wwSelect:useSearch",{}),l=K("_wwSelect:registerOptionProperties",()=>{}),u=y(()=>e.content.virtualScroll),a=y(()=>e.content.virtualScrollSizeDependencies),d=y(()=>e.content.virtualScrollMinItemSize||40),f=y(()=>e.content.virtualScrollBuffer||400),C=y(()=>wwLib.wwLang.getText(e.content.emptyStateText)),k=y(()=>{const v=t.value;return Array.isArray(v)?v:[]}),B=y(()=>!k.value||k.value.length===0?{}:k.value[0]),L=ki((v,O)=>{var E,w,S;const s=(w=(E=i.value)==null?void 0:E.searchBy)!=null&&w.length?(S=i.value)==null?void 0:S.searchBy:Object.keys(v[0]);return v.filter(g=>s.some(T=>{const p=g[T];if(!p)return!1;const V=p.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),A=O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return V.includes(A)}))}),m=y(()=>!i.value||!i.value.value?k.value:L(k.value,i.value.value)),x=y(()=>m.value.map((v,O)=>({...v,id:v.id??`id_${O}`})));oe(m,()=>{if(c){const v=i.value&&i.value.value?m.value:[];c({...i.value,searchMatches:v})}});const I=y(()=>({"font-family":e.content.emptyStateFontFamily,"font-size":e.content.emptyStateFontSize,"font-weight":e.content.emptyStateFontWeight,color:e.content.emptyStateFontColor,padding:e.content.emptyStatePadding,"text-align":e.content.emptyStateTextAlign,width:"100%"}));return oe(B,v=>{n("update:sidepanel-content",{path:"optionProperties",value:v}),l&&l(v)},{immediate:!0}),{emptyStateText:C,filteredOptions:m,virtualScroll:u,virtualScrollSizeDependencies:a,virtualScrollMinItemSize:d,virtualScrollBuffer:f,showEmptyStateInEditor:r,dynamicScrollerItems:x,emptyStateStyle:I}}};function Fi(e,n,r,t,i,c){const l=fe("ww-element-option"),u=fe("wwLayoutItemContext"),a=fe("DynamicScrollerItem"),d=fe("DynamicScroller");return M(),Y(zt,null,[t.filteredOptions.length>0?(M(),ge(d,{style:{height:"100%"},items:t.dynamicScrollerItems,"min-item-size":t.virtualScrollMinItemSize,buffer:t.virtualScrollBuffer,key:t.filteredOptions.length},{default:me(({item:f,index:C,active:k})=>[je(a,{item:f,active:k,"size-dependencies":JSON.stringify(f),"data-index":C},{default:me(()=>[(M(),ge(u,{key:C,"is-repeat":"",index:C,data:f},{default:me(()=>[Z("div",{style:J(C!=t.filteredOptions.length-1?{paddingBottom:r.content.optionSpacing}:{})},[je(l,{"local-data":f,content:r.content,wwEditorState:e.wwEditorState},null,8,["local-data","content","wwEditorState"])],4)]),_:2},1032,["index","data"]))]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items","min-item-size","buffer"])):ze("",!0),Rn(Z("div",{style:J(t.emptyStateStyle)},[Z("span",null,Fe(t.emptyStateText),1)],4),[[vr,t.filteredOptions.length===0||t.showEmptyStateInEditor]])],64)}const jn=xe(Ai,[["render",Fi]]);function Wt(e,n){let r;return(...t)=>{clearTimeout(r),r=setTimeout(()=>e(...t),n)}}const Li={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["element-event","trigger-event","update:sidepanel-content"],setup(e,{emit:n}){const{updateHasSearch:r,updateSearchElement:t,updateSearch:i,autoFocusSearch:c,focusSearch:l}=K("_wwSelect:useSearch",{}),u=R(null),a=y(()=>u.value),d=y(()=>(e.content.searchBy||[]).filter(L=>L&&L.filter).map(L=>JSON.parse(L.filter.replace(/'/g,'"'))).flat()),f=Wt((L,m)=>{i&&i({value:L,searchBy:m})},300),C=y(()=>{const L=e.content.searchBorder?{"border-top":e.content.searchBorderTop,"border-right":e.content.searchBorderRight,"border-bottom":e.content.searchBorderBottom,"border-left":e.content.searchBorderLeft}:{border:e.content.searchBorderAll};return{width:e.content.searchWidth,height:e.content.searchHeight,"border-radius":e.content.searchBorderRadius,padding:e.content.searchPadding,margin:e.content.searchMargin,"background-color":e.content.searchBgColor,"font-family":e.content.searchFontFamily,"font-size":e.content.searchFontSize,"font-weight":e.content.searchFontWeight,color:e.content.searchFontColor,"--placeholder-color":e.content.searchPlaceholderColor,outline:e.content.searchOutline,"outline-offset":e.content.searchOutlineOffset,cursor:"text",...L}}),k=y(()=>wwLib.wwLang.getText(e.content.searchPlaceholder)),B=L=>{var m;f((m=L==null?void 0:L.target)==null?void 0:m.value,d)};return oe(a,L=>{t&&t(L)}),Zt(()=>{r&&r(!0),i&&i({value:"",searchBy:d,searchMatches:[]})}),Ot(()=>{r&&r(!1)}),{searchElementRef:u,handleInputChange:B,searchStyles:C,searchPlaceholder:k}}},Ri=["placeholder"];function Vi(e,n,r,t,i,c){return M(),Y("input",{ref:"searchElementRef",name:"select-search",style:J([t.searchStyles]),class:_e(["ww-select-search"]),onInput:n[0]||(n[0]=(...l)=>t.handleInputChange&&t.handleInputChange(...l)),placeholder:t.searchPlaceholder},null,44,Ri)}const Wn=xe(Li,[["render",Vi],["__scopeId","data-v-a9f50bb9"]]),Bi={components:{"ww-element-options-list":jn,"ww-element-search":Wn},props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},setup(e){const n=K("_wwSelect:updateDropdownConfig",()=>{}),r=y(()=>({side:e.content.side,align:e.content.align,offsetX:e.content.offsetX,offsetY:e.content.offsetY,autoPosition:e.content.autoPosition,boundOffset:e.content.boundOffset}));return oe(r,()=>{n(r.value)},{immediate:!0,deep:!0}),{dropdownConfig:r}}};function $i(e,n,r,t,i,c){return Se(e.$slots,"default")}const Mi=xe(Bi,[["render",$i]]);function Pi({elementRef:e,options:n,isOpen:r,methods:{openDropdown:t,closeDropdown:i,toggleValue:c}}){const l=`ww-select-dropdown-${wwLib.wwUtils.getUid()}`,u=R(""),a=R(0),d=R(""),f=I=>{const v=n.value[I];a.value=I,d.value=v.value,u.value=v.optionId},C=I=>{if(I===null){k();return}const v=n.value.findIndex(O=>O.optionId===I);f(v)},k=()=>{u.value="",a.value=0,d.value=""},B=()=>{var I;(I=e.value)==null||I.focus()};oe(n,()=>{if(k(),n.value.length>0){const I=n.value.find(v=>v.isSelected);if(I){const v=n.value.findIndex(O=>O.value===I.value);f(v)}}},{immediate:!0,deep:!0});const L=I=>{const v=n.value.length;if(v===0)return;let O;r.value?u.value===""?O=I>0?0:v-1:O=(a.value+I+v)%v:O=0,f(O)},m=I=>{const O={ArrowDown:()=>{I.preventDefault(),r.value?L(1):t()},ArrowUp:()=>{I.preventDefault(),r.value?L(-1):t()},Enter:()=>{I.preventDefault(),r.value&&d.value!=null&&d.value!==void 0?c(d.value):r.value||t()},Escape:()=>{I.preventDefault(),r.value&&(i(),k())}}[I.key];O&&O()},x=I=>{const v=n.value.findIndex(O=>O.value===I);v!==-1&&f(v)};return W("_wwSelect:activeDescendant",u),W("_wwSelect:focusedOptionIndex",a),W("_wwSelect:setInitialFocus",x),W("_wwSelect:focusFromOptionId",C),W("_wwSelect:focusSelectElement",B),{dropdownId:l,activeDescendant:u,handleKeydown:m,resetFocus:k,setInitialFocus:x}}function Ni(e,{updateSearch:n}){const r=R(!1),t=R(null),i=R(!1);function c(f){r.value=f}function l(f){t.value=f}function u(){be(()=>{t.value&&t.value.focus()})}function a(f){i.value=Fn(f)}function d(){t.value&&(t.value.value="",n({...e,value:""}))}return{hasSearch:r,autoFocusSearch:i,updateHasSearch:c,updateSearchElement:l,resetSearch:d,updateAutoFocusSearch:a,focusSearch:u}}const qi={components:{SelectTriger:Qr,SelectDropdown:Mi,SelectOption:Vn,SelectOptionList:jn,SelectSearch:Wn},props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event"],setup(e,{emit:n}){const r=R(0),t=y(()=>!1),i=y(()=>!1),c=mr(wwLib.getFrontDocument().querySelector("#app")),l=y(()=>e.content.selectType),u=y(()=>l.value==="single"?e.content.initValueSingle??null:e.content.initValueMulti||[]),{value:a,setValue:d}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:l.value==="single"?"any":"array",defaultValue:u}),{resolveMappingFormula:f}=wwLib.wwFormula.useFormula(),C=y(()=>e.content.fieldName||e.wwElementState.name),k=y(()=>e.content.validation),B=y(()=>e.content.customValidation);K("_wwForm:useForm",()=>{})(a,{fieldName:C,validation:k,customValidation:B,initialValue:u},{elementState:e.wwElementState,emit:n,sidepanelFormPath:"form",setValue:d});const m=R(null),x=R(null),I=y(()=>e.content.autoFocus),v=R(new Map),O=y(()=>Array.from(v.value.values())),s=R(!1),E=y(()=>e.content.choices||[]),w=y(()=>e.content.disabled||!1),S=y(()=>e.content.readonly||!1),g=y(()=>e.content.unselectOnClick||!1),T=y(()=>e.content.initialState||"closed"),p=y(()=>e.content.closeOnClickOutside||!1),V=y(()=>e.content.manualTrigger||!1),A=R(null),_=R({}),N=R(null),ae=R(0),H=R(0),q=R(!0),X=y(()=>e.content.mappingLabel),G=y(()=>e.content.mappingValue),te=y(()=>e.content.mappingDisabled),le=y(()=>e.content.showSearch),ne=y(()=>e.content.allowScrollingWhenOpen);y(()=>e.content.offsetX),y(()=>e.content.offsetY);const ve=()=>{if(!(m!=null&&m.value))return;const z=m.value.getBoundingClientRect();re.value={position:"absolute",top:`${z.top+z.height+parseInt(e.content.offsetY)}px`,left:`${z.left+parseInt(e.content.offsetX)}px`}};let re=R({});const We=y(()=>s.value&&e.content.zIndexOpen?{zIndex:`${e.content.zIndexOpen} !important`}:{}),Oe=y(()=>{const z=e.content.dropdownBorder?{"border-top":e.content.dropdownBorderTop,"border-right":e.content.dropdownBorderRight,"border-bottom":e.content.dropdownBorderBottom,"border-left":e.content.dropdownBorderLeft}:{border:e.content.dropdownBorderAll};return{width:e.content.dropdownWidth,"max-height":e.content.dropdownMaxHeight,"border-radius":e.content.dropdownBorderRadius,padding:e.content.dropdownPadding,"background-color":e.content.dropdownBgColor,"box-shadow":e.content.dropdownShadows,overflow:"auto",...z}}),He=R(Date.now()),at=(z,F)=>{v.value.set(z,F)},Ce=z=>{v.value.delete(z)},lt=z=>{z&&(_.value=z)},Ze=z=>{A.value=z},Re=z=>{if(l.value==="single")Array.isArray(z)&&(console.warn("Single select component received an array value. Only the first value will be used."),z=z[0]),d(z),n("trigger-event",{name:"change",event:{value:z}});else{Array.isArray(z)||(z=[z]);const F=Array.isArray(a.value)?[...a.value]:[];for(let P of z)F.indexOf(P)===-1&&(!e.content.limit||F.length<e.content.limit)&&F.push(P);d(F),n("trigger-event",{name:"change",event:{value:F}})}e.content.closeOnSelect&&ce()},Ie=z=>{var P;const F=Array.from(v.value).find(([ue,de])=>de.value===z);if(!(!F&&!(O!=null&&O.length)>1)&&!((P=F==null?void 0:F[1])!=null&&P.disabled))if(l.value==="single")a.value===z?e.content.unselectOnClick&&d(null):e.content.selectOnClick&&(d(z),e.content.closeOnSelect&&ce());else{const ue=Array.isArray(a.value)?[...a.value]:[],de=ue.indexOf(z);de>=0?e.content.unselectOnClick&&ue.splice(de,1):e.content.selectOnClick&&(ue.push(z),e.content.closeOnSelect&&ce()),d(ue)}};function Te(z){if(l.value!=="multiple"||w.value||S.value)return;q.value=!1;const F=Array.isArray(a.value)?[...a.value]:[],P=F.indexOf(z);P!==-1&&(F.splice(P,1),d(F)),n("trigger-event",{name:"change",event:{value:F}}),setTimeout(()=>{q.value=!0},200)}const{hasSearch:se,updateHasSearch:ie,updateSearchElement:Ke,resetSearch:Ve,autoFocusSearch:Ye,updateAutoFocusSearch:ee,focusSearch:Je}=Ni(A,{updateSearch:Ze});function he(){if(w.value||S.value)return;const z=m.value.getBoundingClientRect();re.value={position:"absolute",top:`${z.top+z.height+parseInt(e.content.offsetY)}px`,left:`${z.left+parseInt(e.content.offsetX)}px`},s.value=!0,be(ve),Ye.value&&Je()}function ce(){q.value&&(Ve(),Tt(),s.value=!1)}function De(z=null){t.value||V.value&&z||(s.value?ce():he())}function Be(){d(u.value||null)}function Xe(z){p.value&&s.value&&!m.value.contains(z.target)&&!x.value.contains(z.target)&&!t.value&&Date.now()>He.value+400&&ce()}const{dropdownId:st,activeDescendant:ct,handleKeydown:It,resetFocus:Tt,setInitialFocus:ut}=Pi({elementRef:m,options:O,isOpen:s,methods:{openDropdown:he,closeDropdown:ce,toggleValue:Ie}});function dt(){a.value&&(l.value==="single"?ut(a.value):Array.isArray(a.value)&&a.value.length&&ut(a.value[0]))}const pe=()=>{m.value&&(N.value&&(N.value.disconnect(),N.value=null),N.value=new ResizeObserver(Wt(z=>{if(z[0]){const F=m.value.getBoundingClientRect();ae.value=F.width,H.value=F.height}},16)),N.value.observe(m.value))},Dt=y(()=>{const z=new Map(E.value.map(({...P})=>[f(Ue(G),P)??P.value,P])),F=P=>({value:f(Ue(G),P)??P.value,label:f(Ue(X),P)??P.value,disabled:P.disabled||!1,data:P||{}});if(l.value==="single"){const P=z.get(a.value);return P?F(P):null}else return(Array.isArray(a.value)?a.value:[]).map(ue=>{const de=z.get(ue);return de?F(de):{value:ue,isInOptions:!1,info:"This value is not in the defined options"}})}),Et=y(()=>{var z;return((z=O.value)==null?void 0:z.map(({optionId:F,...P})=>P))||R([])}),Ge=R({options:Et,active:{value:a,details:Dt},utils:{type:l,isOpen:s,triggerWidth:ae,triggerHeight:H}});let Qe=null,et=null,ft=!1,Ee=!1,tt="";try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ft=!0}}))}catch{}Ee=ft?{passive:!1}:!1,tt="onwheel"in document.createElement("div")?"wheel":"mousewheel";const we=z=>{z.preventDefault()},vt=z=>{if({37:1,38:1,39:1,40:1}[z.keyCode])return we(z),!1},kt=()=>{const z=wwLib.getFrontWindow(),F=wwLib.getFrontDocument();!z||!F||(Qe={...F.documentElement.style},et={...F.body.style},F.body.style.touchAction="none",z.addEventListener("DOMMouseScroll",we,!1),z.addEventListener(tt,we,Ee),z.addEventListener("touchmove",we,Ee),z.addEventListener("keydown",vt,!1))},$e=()=>{const z=wwLib.getFrontDocument(),F=wwLib.getFrontWindow();!z||!F||Qe!==null&&et!==null&&(z.body.style.touchAction="",z.body.style["touch-action"]="",F.removeEventListener("DOMMouseScroll",we,!1),F.removeEventListener(tt,we,Ee),F.removeEventListener("touchmove",we,Ee),F.removeEventListener("keydown",vt,!1),Qe=null,et=null)};oe(se,z=>{z?Ge.value.search={value:y(()=>{var F;return((F=A.value)==null?void 0:F.value)||""}),searchBy:y(()=>{var F;return((F=A.value)==null?void 0:F.searchBy)||[]}),searchMatches:y(()=>{var F;return((F=A.value)==null?void 0:F.searchMatches)||[]})}:delete Ge.value.search},{immediate:!0}),oe(I,z=>{ee&&ee(z)}),oe(le,()=>{ie(le)}),oe(s,()=>{be(ve),dt(),s.value?ne.value||kt():ne.value||$e()}),oe(a,()=>{be(ve)},{deep:!0}),oe([u,l],()=>{u.value!==null&&u.value!==void 0||Array.isArray(u.value)&&u.value.length?(d(u.value),be(Wt(dt,300)),n("trigger-event",{name:"initValueChange",event:{value:u.value}})):(d(null),n("trigger-event",{name:"initValueChange",event:{value:u.value}}))},{immediate:!0}),oe(T,()=>{T.value&&T.value==="open"?he():i.value||ce()},{immediate:!0});const ke=R({}),Me=z=>({data:F,markdown:P})=>{const ue=ke.value,de={data:{...ue.data,[z]:F},methods:{},markdown:{...ue.markdown,[z]:P}};wwLib.wwElement.useRegisterElementLocalContext("select",de.data,de.methods,de.markdown),ke.value=de},ht=Me("selectTrigger"),At=Me("select");return W("_wwSelect:mappingLabel",X),W("_wwSelect:mappingValue",G),W("_wwSelect:mappingDisabled",te),W("_wwSelect:rawData",E),W("_wwSelect:options",O),W("_wwSelect:type",l),W("_wwSelect:value",a),W("_wwSelect:setValue",d),W("_wwSelect:isDisabled",w),W("_wwSelect:isReadonly",S),W("_wwSelect:canUnselect",g),W("_wwSelect:searchState",A),W("_wwSelect:optionProperties",_),W("_wwSelect:updateValue",Re),W("_wwSelect:registerOption",at),W("_wwSelect:unregisterOption",Ce),W("_wwSelect:registerOptionProperties",lt),W("_wwSelect:registerTriggerLocalContext",ht),W("_wwSelect:dropdownMethods",{closeDropdown:ce}),W("_wwSelect:useSearch",{updateHasSearch:ie,updateSearchElement:Ke,updateSearch:Ze,updateAutoFocusSearch:ee}),W("_wwSelect:localContext",ke),At({data:Ge,markdown:"### Select local informations\n\n            #### options\n            Array of all available options in the dropdown. Each option contains:\n            - `value`: Option's value\n            - `label`: Display text\n            - `disabled`: Boolean indicating if option is disabled\n            - `isSelected`: Boolean indicating if option is selected\n            - `data`: Data from the repeat context (optional)\n\n            #### active\n            Information about currently selected option(s):\n            - `value`: Current selection (single value or array for multiple select)\n            - `details`: Detailed information about selected option(s)\n\n            #### utils\n            Component state information:\n            - `type`: Select type ('single' or 'multiple')\n            - `isOpen`: Boolean indicating if dropdown is open\n            - `triggerWidth`: Width of trigger element\n            - `triggerHeight`: Height of trigger element\n\n            #### search (optional)\n            Present when search is enabled:\n            - `value`: Current search input value\n            - `searchBy`: Fields to search by\n            - `searchMatches`: Options matching search criteria"}),ee(I),Zt(()=>{be(()=>{pe()}),wwLib.getFrontDocument().addEventListener("click",Xe),wwLib.getFrontWindow().addEventListener("scroll",ve)}),Ot(()=>{N.value&&(N.value.disconnect(),N.value=null),$e(),wwLib.getFrontDocument().removeEventListener("click",Xe)}),oe(_,z=>{n("update:sidepanel-content",{path:"optionProperties",value:z})},{immediate:!0,deep:!0}),{appDivRef:c,showSearch:le,componentKey:r,isEditing:t,forceOpenInEditor:i,isOpen:s,triggerElement:m,dropdownElement:x,floatingStyles:re,dropdownStyles:Oe,dropdownId:st,activeDescendant:ct,isDisabled:w,selectType:l,handleKeydown:It,toggleDropdown:De,resizeObserver:N,options:O,currentLocalContext:ke,variableValue:a,lastTriggeredComponentAction:He,selectStyles:We,openDropdown:he,closeDropdown:ce,toggleDropdown:De,updateValue:Re,resetValue:Be,removeSpecificValue:Te,resetSearch:Ve}},methods:{resetLastTriggerComponentAction(){this.lastTriggeredComponentAction=Date.now()},actionOpenDropdown(){this.resetLastTriggerComponentAction(),this.openDropdown()},actionCloseDropdown(){this.resetLastTriggerComponentAction(),this.closeDropdown()},actionToggleDropdown(){this.resetLastTriggerComponentAction(),this.toggleDropdown()},actionUpdateValue(e){this.resetLastTriggerComponentAction(),this.updateValue(e)},actionResetValue(){this.resetLastTriggerComponentAction(),this.resetValue()},actionRemoveSpecificValue(e){this.resetLastTriggerComponentAction(),this.removeSpecificValue(e)},actionResetSearch(){this.resetLastTriggerComponentAction(),this.resetSearch()}}},Ui=["aria-haspopup","aria-expanded","aria-controls","aria-activedescendant","tabindex","aria-disabled"],ji=["id","role","aria-multiselectable"],Wi=["name","value","required"];function Hi(e,n,r,t,i,c){const l=fe("SelectTriger"),u=fe("SelectSearch"),a=fe("SelectOptionList"),d=fe("SelectDropdown");return M(),Y("div",{class:_e(["ww-select",{"ww-select-z-index":t.isOpen&&r.content.zIndexOpen}]),style:J({"--select-z-index":t.isOpen&&r.content.zIndexOpen?r.content.zIndexOpen:"auto"}),ref:"componentKey","data-ww-flag":"ww-select"},[Z("div",{class:"ww-select__trigger",ref:"triggerElement",onClick:n[0]||(n[0]=(...f)=>t.toggleDropdown&&t.toggleDropdown(...f)),onKeydown:n[1]||(n[1]=(...f)=>t.handleKeydown&&t.handleKeydown(...f)),role:"combobox","aria-haspopup":t.selectType==="single"?"listbox":"true","aria-expanded":t.isOpen,"aria-controls":t.dropdownId,"aria-activedescendant":t.activeDescendant,tabindex:t.isDisabled?-1:0,"aria-disabled":t.isDisabled},[je(l,{content:r.content,onRemoveMultiselectValue:t.removeSpecificValue},null,8,["content","onRemoveMultiselectValue"])],40,Ui),t.isOpen?(M(),ge(hr,{key:0,to:t.appDivRef},[Z("div",{class:"ww-select__dropdown__wrapper",style:J({pointerEvents:t.isEditing&&t.forceOpenInEditor?"none":"auto"})},[Z("div",{class:"ww-select__dropdown",ref:"dropdownElement",style:J([t.floatingStyles||{}]),id:t.dropdownId,role:t.selectType==="single"?"listbox":"group","aria-multiselectable":t.selectType==="multiple","aria-label":"Select options","inherit-component-style":""},[Z("div",{style:J([t.dropdownStyles])},[je(d,{content:r.content,wwEditorState:e.wwEditorState},{default:me(()=>[t.showSearch?(M(),ge(u,{key:0,content:r.content,wwEditorState:e.wwEditorState},null,8,["content","wwEditorState"])):ze("",!0),je(a,{content:r.content,wwEditorState:e.wwEditorState},null,8,["content","wwEditorState"])]),_:1},8,["content","wwEditorState"])],4)],12,ji)],4)],8,["to"])):ze("",!0),Z("input",{type:"input",name:r.content.fieldName,value:t.variableValue,required:r.content.required,tabindex:"-1",class:"fake-input"},null,8,Wi)],6)}const Zi=xe(qi,[["render",Hi],["__scopeId","data-v-c9472791"]]);Le.component("wwobject-02105115-d00e-471e-be29-37901a480cfb",xr);Le.component("wwobject-234b582b-fed0-44c8-900b-22474b1156a7",Ur);Le.component("wwobject-6047b8df-81b7-45a7-a6b3-7355fb2fa3cd",Zr);Le.component("wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1",gr);Le.component("wwobject-c8199d0d-b61f-4640-98e0-c4be9ea254e0",Zi);Le.component("wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad",pr);Le.component("section-99586bd3-2b15-4d6b-a025-6a50d07ca845",wr);
