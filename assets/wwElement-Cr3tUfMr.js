import{_ as c,c as l,o as r,b as d,a as g,d as o,t as m,n as h,e as b,r as v}from"./main-BLqjW_kE.js";const y={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event"],setup(e){const{value:t,setValue:a}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"number",defaultValue:b(()=>{let n=parseFloat(e.content.value);return n=isNaN(n)?0:n,n})}),i=v(!1);return{variableValue:t,setValue:a,isDebouncing:i,debounceTimeout:null}},computed:{isEditing(){return!1},value(){return this.variableValue},cssVars(){const e=(this.value-this.content.min)/(this.content.max-this.content.min)*100;return!this.content||!this.content.globalStyle?{"--ratio":`${e}%`}:{"--range-border":this.content.globalStyle.rangeBorderColor,"--range-background":this.content.globalStyle.rangeBackgroundColor,"--active-range-background":this.content.globalStyle.useActiveRangeBackground?this.content.globalStyle.activeRangeBackgroundColor:this.content.globalStyle.rangeBackgroundColor,"--selector-border":this.content.globalStyle.selectorBorderColor,"--selector-background":this.content.globalStyle.selectorBackgroundColor,"--ratio":`${e}%`}},tooltipStyle(){return(this.value-this.content.min)/(this.content.max-this.content.min),{fontSize:this.content.globalStyle.fontSize,fontFamily:this.content.globalStyle.fontFamily,"--tooltip-background":this.content.globalStyle.tooltipBackground,"--tooltip-text-color":this.content.globalStyle.tooltipTextColor}},delay(){return this.content.debounceDelay?wwLib.wwUtils.getLengthUnit(this.content.debounceDelay)[0]:500}},watch:{"content.value"(e){e=parseFloat(e),isNaN(e)&&(e=0),e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))}},methods:{handleManualInput(e){const t=parseFloat(e.target.value);isNaN(t)&&(t=0),t!==this.value&&(this.setValue(t),this.content.debounce?(this.isDebouncing=!0,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}}),this.isDebouncing=!1},this.delay)):this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}}))}}},f=["value","name","required","min","max","step"];function p(e,t,a,i,s,n){return r(),l("div",{class:"ww-form-input-range",style:o(n.cssVars)},[a.content.isTooltip?(r(),l("div",{key:0,style:o(n.tooltipStyle),id:"tooltiptext",class:"ww-form-input-range__tooltip"},m(n.value),5)):d("",!0),g("input",{ref:"input",value:n.value,class:h({editing:n.isEditing}),type:"range",name:a.wwElementState.name,required:a.content.required,style:o(e.style),min:a.content.min,max:a.content.max,step:a.content.step,onInput:t[0]||(t[0]=u=>n.handleManualInput(u))},null,46,f)],4)}const _=c(y,[["render",p],["__scopeId","data-v-184d9572"]]);export{_ as e};
