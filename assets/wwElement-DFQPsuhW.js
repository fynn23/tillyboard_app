import{_ as b,q as c,c as l,o as r,a as g,b as u,n as m,j as f,L as P,m as h,F as v,v as O,u as w,s as C}from"./main-BEqSrhKB.js";const k={props:{content:{type:Object,required:!0}},emits:["trigger-event","update:content"],watch:{"content.useCustomPagination"(t){t&&this.$emit("update:content",{collectionId:null})}},computed:{isEditing(){return!1},paginationOptions(){return this.content.useCustomPagination?{limit:this.content.paginatorLimit,offset:this.content.paginatorOffset,total:this.content.paginatorTotal}:this.content.collectionId?wwLib.wwCollection.getPaginationOptions(this.content.collectionId):null},nbPage(){if(!this.paginationOptions)return 10;const t=Math.ceil(this.paginationOptions.total/this.paginationOptions.limit);return isNaN(t)?1:t},currentPage(){if(!this.paginationOptions)return 1;const t=Math.floor(this.paginationOptions.offset/this.paginationOptions.limit);return isNaN(t)?0:t},navigation(){const t=this.nbPage-1,i=this.currentPage-1,e=this.currentPage+1;let o=0,a=[];return a.push({label:"1",index:0,states:this.currentPage===0?["active"]:[]}),i>o&&(i>o+1&&a.push({label:"...",index:-1}),a.push({label:`${i+1}`,index:i}),o=i),this.currentPage!==0&&this.currentPage!==t&&(a.push({label:`${this.currentPage+1}`,index:this.currentPage,states:["active"]}),o=this.currentPage),e<t&&e>o&&(a.push({label:`${e+1}`,index:e}),o=e,e<t-1&&a.push({label:"...",index:-1})),t>o&&a.push({label:`${t+1}`,index:t,states:t===this.currentPage?["active"]:[]}),a}},methods:{goTo(t){this.paginationOptions&&t!==-1&&t!==this.currentPage&&(this.content.useCustomPagination||wwLib.wwCollection.setOffset(this.content.collectionId,t*this.paginationOptions.limit),this.$emit("trigger-event",{name:"change",event:{context:{offset:t*this.paginationOptions.limit,page:t+1,total:this.paginationOptions.total,limit:this.paginationOptions.limit}}}))},prev(){this.currentPage>0&&this.goTo(this.currentPage-1)},next(){this.currentPage<this.nbPage-1&&this.goTo(this.currentPage+1)}}},N={role:"navigation"},y=["aria-current","onClick"];function I(t,i,e,o,a,n){const p=c("wwObject"),_=c("wwElement",!0),x=c("wwLayoutItemContext");return r(),l("nav",N,[g("ul",null,[g("li",{class:m({"hide-icon":!n.isEditing&&n.currentPage===0}),onClick:i[0]||(i[0]=(...s)=>n.prev&&n.prev(...s))},[e.content.paginatorPrev?(r(),f(p,P(h({key:0},e.content.paginatorPrev)),null,16)):u("",!0)],2),e.content.paginatorText?(r(!0),l(v,{key:0},O(n.navigation,(s,d)=>(r(),l("li",{key:d,"aria-current":s.index===n.currentPage,onClick:L=>n.goTo(s.index)},[w(x,{"is-repeat":"",index:d},{default:C(()=>[w(_,h({ref_for:!0},e.content.paginatorText,{"ww-props":{text:s.label},states:s.states}),null,16,["ww-props","states"])]),_:2},1032,["index"])],8,y))),128)):u("",!0),g("li",{class:m({"hide-icon":!n.isEditing&&n.currentPage===n.nbPage-1}),onClick:i[1]||(i[1]=(...s)=>n.next&&n.next(...s))},[e.content.paginatorNext?(r(),f(p,P(h({key:0},e.content.paginatorNext)),null,16)):u("",!0)],2)])])}const E=b(k,[["render",I],["__scopeId","data-v-d4cb42c6"]]);export{E as e};
