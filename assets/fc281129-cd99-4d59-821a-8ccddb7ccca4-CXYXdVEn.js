import{_ as X,c as N,o as T,d as l,a as O,f as s,v as u,b as B,t as W,n as Z,h as $,i,j as d,p as S}from"./main-CcyERNgh.js";import{s as ee}from"./wwSection-B-8-jw2n.js";const te={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event"],setup(r,{emit:e}){const n=$(()=>!1),o=i(""),m=i(""),v=i(""),a=i(""),c=i(""),f=i(""),h=i(""),b=i(""),g=i(""),y=i(""),p=i(""),E=i(""),V=i(""),C=i(""),x=i(""),_=i(""),z=i(!1),k=i(""),{value:Ae,setValue:D}=wwLib.wwVariable.useComponentVariable({uid:r.uid,name:"formData",type:"object",defaultValue:{name:"",email:"",phoneWork:"",phoneHome:"",phoneMobile:"",organization:"",title:"",website:"",street:"",city:"",state:"",postalCode:"",country:"",note:""}}),{value:Fe,setValue:I}=wwLib.wwVariable.useComponentVariable({uid:r.uid,name:"isValid",type:"boolean",defaultValue:!1});d(()=>r.content.initialName,t=>{t!=null&&(o.value=t,R())},{immediate:!0}),d(()=>r.content.initialEmail,t=>{t!=null&&(m.value=t,H())},{immediate:!0}),d(()=>r.content.initialPhoneWork,t=>{t!=null&&(v.value=t)},{immediate:!0}),d(()=>r.content.initialPhoneHome,t=>{t!=null&&(a.value=t)},{immediate:!0}),d(()=>r.content.initialPhoneMobile,t=>{t!=null&&(c.value=t)},{immediate:!0}),d(()=>r.content.initialOrganization,t=>{t!=null&&(f.value=t)},{immediate:!0}),d(()=>r.content.initialTitle,t=>{t!=null&&(h.value=t)},{immediate:!0}),d(()=>r.content.initialWebsite,t=>{t!=null&&(b.value=t)},{immediate:!0}),d(()=>r.content.initialStreet,t=>{t!=null&&(g.value=t)},{immediate:!0}),d(()=>r.content.initialCity,t=>{t!=null&&(y.value=t)},{immediate:!0}),d(()=>r.content.initialState,t=>{t!=null&&(p.value=t)},{immediate:!0}),d(()=>r.content.initialPostalCode,t=>{t!=null&&(E.value=t)},{immediate:!0}),d(()=>r.content.initialCountry,t=>{t!=null&&(V.value=t)},{immediate:!0}),d(()=>r.content.initialNote,t=>{t!=null&&(C.value=t)},{immediate:!0}),d([o,m,v,a,c,f,h,b,g,y,p,E,V,C],([t,M,U,L,P,w,A,F,q,G,Y,K,J,Q])=>{D({name:t,email:M,phoneWork:U,phoneHome:L,phoneMobile:P,organization:w,title:A,website:F,street:q,city:G,state:Y,postalCode:K,country:J,note:Q}),j()});const R=()=>!o.value||o.value.trim()===""?(x.value="Name is required",!1):(x.value="",!0),H=()=>!m.value||m.value.trim()===""?(_.value="Email is required",!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.value)?(_.value="",!0):(_.value="Please enter a valid email address",!1),j=()=>{const t=R(),M=H(),U=t&&M;return I(U),U};return{nameValue:o,emailValue:m,phoneWorkValue:v,phoneHomeValue:a,phoneMobileValue:c,organizationValue:f,titleValue:h,websiteValue:b,streetValue:g,cityValue:y,stateValue:p,postalCodeValue:E,countryValue:V,noteValue:C,nameError:x,emailError:_,showErrors:z,statusMessage:k,validateName:R,validateEmail:H,generateVCard:()=>{if(!n.value){if(z.value=!0,!j()){k.value="Please fix the errors before generating the vCard",e("trigger-event",{name:"validationFailed",event:{errors:{name:x.value,email:_.value}}});return}try{const t=["BEGIN:VCARD","VERSION:3.0",`FN:${o.value}`,`EMAIL:${m.value}`];v.value&&t.push(`TEL;TYPE=WORK:${v.value}`),a.value&&t.push(`TEL;TYPE=HOME:${a.value}`),c.value&&t.push(`TEL;TYPE=CELL:${c.value}`),f.value&&t.push(`ORG:${f.value}`),h.value&&t.push(`TITLE:${h.value}`),b.value&&t.push(`URL:${b.value}`),(g.value||y.value||p.value||E.value||V.value)&&t.push(`ADR;TYPE=WORK:;;${g.value||""};${y.value||""};${p.value||""};${E.value||""};${V.value||""}`),C.value&&t.push(`NOTE:${C.value}`),t.push("END:VCARD");const M=t.join(`
`),U=new Blob([M],{type:"text/vcard"}),L=URL.createObjectURL(U),P=document.createElement("a");P.href=L,P.download=`${o.value.replace(/\s+/g,"_")}.vcf`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(L),k.value="vCard generated successfully!",setTimeout(()=>{k.value=""},3e3),e("trigger-event",{name:"vCardGenerated",event:{name:o.value,email:m.value,phoneWork:v.value,phoneHome:a.value,phoneMobile:c.value,organization:f.value,title:h.value,website:b.value,address:{street:g.value,city:y.value,state:p.value,postalCode:E.value,country:V.value},note:C.value}})}catch(t){k.value="Error generating vCard. Please try again.",e("trigger-event",{name:"error",event:{error:t.message}})}}},resetForm:()=>{o.value="",m.value="",v.value="",a.value="",c.value="",f.value="",h.value="",b.value="",g.value="",y.value="",p.value="",E.value="",V.value="",C.value="",x.value="",_.value="",z.value=!1,k.value="",D({name:"",email:"",phoneWork:"",phoneHome:"",phoneMobile:"",organization:"",title:"",website:"",street:"",city:"",state:"",postalCode:"",country:"",note:""}),I(!1)},isEditing:n}}},oe={class:"vcard-generator"},le={class:"form-section"},ae={class:"form-group"},ne=["placeholder"],ie={key:0,class:"error-message"},re={class:"form-group"},de=["placeholder"],se={key:0,class:"error-message"},ue={class:"form-section"},me={class:"form-group"},ve=["placeholder"],ce={class:"form-group"},fe=["placeholder"],he={class:"form-group"},be=["placeholder"],ge={class:"form-section"},ye={class:"form-group"},pe=["placeholder"],Ee={class:"form-group"},Ve=["placeholder"],Ce={class:"form-group"},Pe=["placeholder"],_e={class:"form-section"},ke={class:"form-group"},Ue=["placeholder"],xe={class:"form-row"},Me={class:"form-group half"},Le=["placeholder"],Ne={class:"form-group half"},Te=["placeholder"],We={class:"form-row"},ze={class:"form-group half"},Re=["placeholder"],He={class:"form-group half"},Oe=["placeholder"],De={class:"form-section"},Ie={class:"form-group"},je=["placeholder"],Be={key:0,class:"status-message"};function Se(r,e,n,o,m,v){return T(),N("div",oe,[l("div",le,[e[19]||(e[19]=l("h3",{class:"section-title"},"Basic Information",-1)),l("div",ae,[e[17]||(e[17]=l("label",{for:"name"},"Name *",-1)),s(l("input",{id:"name",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.nameValue=a),class:B({error:o.nameError&&o.showErrors}),onBlur:e[1]||(e[1]=(...a)=>o.validateName&&o.validateName(...a)),placeholder:n.content.namePlaceholder||"Enter your name"},null,42,ne),[[u,o.nameValue]]),o.nameError&&o.showErrors?(T(),N("div",ie,W(o.nameError),1)):O("",!0)]),l("div",re,[e[18]||(e[18]=l("label",{for:"email"},"Email *",-1)),s(l("input",{id:"email",type:"email","onUpdate:modelValue":e[2]||(e[2]=a=>o.emailValue=a),class:B({error:o.emailError&&o.showErrors}),onBlur:e[3]||(e[3]=(...a)=>o.validateEmail&&o.validateEmail(...a)),placeholder:n.content.emailPlaceholder||"Enter your email"},null,42,de),[[u,o.emailValue]]),o.emailError&&o.showErrors?(T(),N("div",se,W(o.emailError),1)):O("",!0)])]),l("div",ue,[e[23]||(e[23]=l("h3",{class:"section-title"},"Phone Numbers",-1)),l("div",me,[e[20]||(e[20]=l("label",{for:"phoneWork"},"Work Phone",-1)),s(l("input",{id:"phoneWork",type:"tel","onUpdate:modelValue":e[4]||(e[4]=a=>o.phoneWorkValue=a),placeholder:n.content.phoneWorkPlaceholder||"Enter work phone"},null,8,ve),[[u,o.phoneWorkValue]])]),l("div",ce,[e[21]||(e[21]=l("label",{for:"phoneHome"},"Home Phone",-1)),s(l("input",{id:"phoneHome",type:"tel","onUpdate:modelValue":e[5]||(e[5]=a=>o.phoneHomeValue=a),placeholder:n.content.phoneHomePlaceholder||"Enter home phone"},null,8,fe),[[u,o.phoneHomeValue]])]),l("div",he,[e[22]||(e[22]=l("label",{for:"phoneMobile"},"Mobile Phone",-1)),s(l("input",{id:"phoneMobile",type:"tel","onUpdate:modelValue":e[6]||(e[6]=a=>o.phoneMobileValue=a),placeholder:n.content.phoneMobilePlaceholder||"Enter mobile phone"},null,8,be),[[u,o.phoneMobileValue]])])]),l("div",ge,[e[27]||(e[27]=l("h3",{class:"section-title"},"Professional Information",-1)),l("div",ye,[e[24]||(e[24]=l("label",{for:"organization"},"Company/Organization",-1)),s(l("input",{id:"organization",type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>o.organizationValue=a),placeholder:n.content.organizationPlaceholder||"Enter company or organization"},null,8,pe),[[u,o.organizationValue]])]),l("div",Ee,[e[25]||(e[25]=l("label",{for:"title"},"Job Title",-1)),s(l("input",{id:"title",type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>o.titleValue=a),placeholder:n.content.titlePlaceholder||"Enter job title"},null,8,Ve),[[u,o.titleValue]])]),l("div",Ce,[e[26]||(e[26]=l("label",{for:"website"},"Website",-1)),s(l("input",{id:"website",type:"url","onUpdate:modelValue":e[9]||(e[9]=a=>o.websiteValue=a),placeholder:n.content.websitePlaceholder||"Enter website URL"},null,8,Pe),[[u,o.websiteValue]])])]),l("div",_e,[e[33]||(e[33]=l("h3",{class:"section-title"},"Address",-1)),l("div",ke,[e[28]||(e[28]=l("label",{for:"street"},"Street",-1)),s(l("input",{id:"street",type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>o.streetValue=a),placeholder:n.content.streetPlaceholder||"Enter street address"},null,8,Ue),[[u,o.streetValue]])]),l("div",xe,[l("div",Me,[e[29]||(e[29]=l("label",{for:"city"},"City",-1)),s(l("input",{id:"city",type:"text","onUpdate:modelValue":e[11]||(e[11]=a=>o.cityValue=a),placeholder:n.content.cityPlaceholder||"Enter city"},null,8,Le),[[u,o.cityValue]])]),l("div",Ne,[e[30]||(e[30]=l("label",{for:"postalCode"},"Postal Code",-1)),s(l("input",{id:"postalCode",type:"text","onUpdate:modelValue":e[12]||(e[12]=a=>o.postalCodeValue=a),placeholder:n.content.postalCodePlaceholder||"Enter postal code"},null,8,Te),[[u,o.postalCodeValue]])])]),l("div",We,[l("div",ze,[e[31]||(e[31]=l("label",{for:"state"},"State/Province",-1)),s(l("input",{id:"state",type:"text","onUpdate:modelValue":e[13]||(e[13]=a=>o.stateValue=a),placeholder:n.content.statePlaceholder||"Enter state or province"},null,8,Re),[[u,o.stateValue]])]),l("div",He,[e[32]||(e[32]=l("label",{for:"country"},"Country",-1)),s(l("input",{id:"country",type:"text","onUpdate:modelValue":e[14]||(e[14]=a=>o.countryValue=a),placeholder:n.content.countryPlaceholder||"Enter country"},null,8,Oe),[[u,o.countryValue]])])])]),l("div",De,[e[35]||(e[35]=l("h3",{class:"section-title"},"Additional Information",-1)),l("div",Ie,[e[34]||(e[34]=l("label",{for:"note"},"Notes",-1)),s(l("textarea",{id:"note","onUpdate:modelValue":e[15]||(e[15]=a=>o.noteValue=a),placeholder:n.content.notePlaceholder||"Enter additional notes",rows:"3"},null,8,je),[[u,o.noteValue]])])]),l("button",{class:"generate-button",onClick:e[16]||(e[16]=(...a)=>o.generateVCard&&o.generateVCard(...a)),style:Z({backgroundColor:n.content.buttonColor||"#4a90e2",color:n.content.buttonTextColor||"#ffffff"})},W(n.content.buttonText||"Generate vCard"),5),o.statusMessage?(T(),N("div",Be,W(o.statusMessage),1)):O("",!0)])}const we=X(te,[["render",Se],["__scopeId","data-v-acac54af"]]);S.component("wwobject-7564f2e0-4877-4994-a550-d6653d6d1672",we);S.component("section-99586bd3-2b15-4d6b-a025-6a50d07ca845",ee);
