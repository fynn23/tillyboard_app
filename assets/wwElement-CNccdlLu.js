import{_ as g,D as m,j as f,o as _,J as w,H as d,d as p,a as S,n as I,m as y,k as v}from"./main-BLqjW_kE.js";const j={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0}},emits:["update:content","update:content:effect"],setup(){const{hasLink:t,tag:e,properties:n}=wwLib.wwElement.useLink();return{hasLink:t,linkTag:e,properties:n}},data(){return{dragingHandle:"start",dragingIndex:-1,style:this.getStyle(),direction:this.getDirection()}},computed:{tag(){return this.hasLink?this.linkTag:"div"},screenSize(){return this.wwFrontState.screenSize},isBound(){return!1},isEmpty(){return!1},isEditing(){return!1},wwObjectFlex(){const t={},e=this.content.type!=="mosaic"||this.content.alignItems==="stretch";return t.flexGrow=e?"1":"unset",this.content.type==="columns"&&(t.alignSelf="auto"),t},layoutStyle(){return{flexDirection:this.direction,...this.style}},children(){return!this.content.children||!Array.isArray(this.content.children)?[]:this.content.children}},watch:{screenSize(t,e){t!==e&&(this.style=this.getStyle(),this.direction=this.getDirection())}},mounted(){},methods:{getItemStyle(t){const e={flexShrink:"unset",justifyContent:""};if(this.content.reverse?e.order=this.children.length-1-t:e.order=t,this.content.pushLast&&(this.content.reverse?t===0:t===this.children.length-1)&&(this.content.direction==="column"?e.marginTop="auto":e.marginLeft="auto"),this.content.type!=="rows"){const n=this.getGridAt(t);e.width=`calc(${n} * 100% / ${this.content.lengthInUnit})`,e.flexShrink="0"}else e.width="100%";return this.content.type==="mosaic"&&this.content.alignItems!=="stretch"&&this.content.alignItems!=="baseline"&&(e.justifyContent=this.content.alignItems),e},getStyle(){return{flexWrap:this.content.type==="mosaic"?"wrap":"unset",justifyContent:this.content.type==="mosaic"?this.content.justifyContent:"unset",alignItems:this.content.type==="mosaic"?this.content.alignItems:"unset"}},getDirection(){return this.content.type==="rows"?"column":"row"},getInheritFromElement(){return this.content.type==="mosaic"?["width","display"]:[]},getWwObjectFlex(){return this.content.type!=="mosaic"||this.content.alignItems==="stretch"?"1":"unset"},getGridAt(t,e){return t=this.isBound?0:t,e=e||this.content.grid,e?t>=e.length?e[0]||1:e[t]:1},fit(t,e){if(this.isBound||this.content.type!=="columns")return;const n=t.reduce((c,o,h)=>c+this.getGridAt(h)||0,0),s=this.content.lengthInUnit;if(n===s&&t.length===e.length)return e;const r=Math.max(1,t.length),i=Math.floor(s/r),l=s-(r-1)*i;return t.map((c,o)=>o===0?l:i)},async update(t){},moveItem(t,e,n){const s=[...t],[r]=s.splice(e,1);return e<n&&n--,s.splice(n,0,r),s}}},k=["ww-responsive"];function E(t,e,n,s,r,i){var o;const l=m("wwElement",!0),c=m("wwLayout");return _(),f(v(i.tag),y(s.properties,{class:["ww-columns",{editing:(o=t.wwEditorState)==null?void 0:o.canBeEdited,empty:i.isEmpty,"-link":s.hasLink&&!i.isEditing}]}),{default:w(()=>[d(c,{class:"ww-columns__dropzone",path:"children",direction:r.direction,style:p(i.layoutStyle),"ww-responsive":"wwLayout","onUpdate:list":i.update},{default:w(({item:h,index:a})=>{var u;return[S("div",{class:I(["ww-columns__column",[{editing:(u=t.wwEditorState)==null?void 0:u.canBeEdited,draging:r.dragingIndex===a}]]),"ww-responsive":`index-${a}`,style:p(i.getItemStyle(a))},[d(l,y(h,{class:"ww-columns__object","extra-style":i.wwObjectFlex,"ww-responsive":`wwobject-${a}`}),null,16,["extra-style","ww-responsive"])],14,k)]}),_:1},8,["direction","style","onUpdate:list"])]),_:1},16,["class"])}const b=g(j,[["render",E],["__scopeId","data-v-44d826a3"]]);export{b as e};
