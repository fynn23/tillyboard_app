import{_ as v,I as m,j as k,o as g,J as l,a9 as C,D as c,c as M,a as d,H as s,m as f,G as b,d as u,N as y,S as V,p as E,O as I}from"./main-BLqjW_kE.js";const S={name:"wwExpandTransition",props:{noTransition:{type:Boolean,default:!1},minHeight:{type:Number,default:0}},methods:{beforeEnter(e){e.style.overflowY="hidden"},enter(e){const{width:t}=window.getComputedStyle(e),r=e.style.width;e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const{height:a}=window.getComputedStyle(e);e.style.width=r,e.style.position="",e.style.visibility="",e.style.height=this.minHeight||0,window.getComputedStyle(e).height,setTimeout(()=>{e.style.height=a})},afterEnter(e){e.style.height="auto",e.style.overflowY="unset"},leave(e){const{height:t}=window.getComputedStyle(e);e.style.height=t,e.style.overflowY="hidden",window.getComputedStyle(e).height,setTimeout(()=>{e.style.height=this.minHeight||0})}}};function x(e,t,r,a,o,i){return r.noTransition?m(e.$slots,"default",{key:0}):(g(),k(C,{key:1,name:"expand",onBeforeEnter:i.beforeEnter,onEnter:i.enter,onLeave:i.leave,onAfterEnter:i.afterEnter},{default:l(()=>[m(e.$slots,"default")]),_:3},8,["onBeforeEnter","onEnter","onLeave","onAfterEnter"]))}const L=v(S,[["render",x]]),D={components:{wwExpandTransition:L},emits:["update:content:effect"],props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0}},data(){return{isVisible:!1,topPosition:0,states:[],isMouseIn:!1,isMouseInContent:!1}},computed:{isEditing(){return!1},isMenuDisplayed(){return this.content.isMenuBreakpoint?this.content.menuBreakpoint==="laptop"?!0:this.content.menuBreakpoint==="tablet"?this.wwFrontState.screenSize==="mobile"||this.wwFrontState.screenSize==="tablet":this.wwFrontState.screenSize==="mobile":!1},cssVariables(){const e=()=>{let a="none";return this.content.appearAnimation==="rotate"&&(a="2000px"),a};let t="50%",r="translateX(-50%)";return this.content.alignement==="align-left"?(t="0px",r="translateX(0%)"):this.content.alignement==="center"?(t="50%",r="translateX(-50%)"):this.content.alignement==="align-right"&&(t="100%",r="translateX(-100%)"),{"--top-position":this.topPosition+"px","--content-dimension":this.isVisible?"300px":"0px","--animation-duration":this.content.animationDuration,"--perspective":e(),"--animationTimingFunction":this.content.animationTimingFunction,"--slideOrigin":this.content.slideOrigin,"--rotationAngle":this.content.rotationAngle,"--left-value":t,"--transform-value":r}}},watch:{isVisible(e){e&&(this.isInsideDropdown||wwLib.$emit("ww-hover-dropdown:opened",this.id),this.updatePosition())},"content.internalDisplay"(e){this.isVisible=e},"content.alignement"(e){console.log(e)},isMouseIn(e){this.content.trigger==="mouseenter"&&(this.isVisible=e)}},setup(){const e=wwLib.wwUtils.getUid(),t=E("ww-hover-dropdown",!1);return I("ww-hover-dropdown",e),{id:e,isInsideDropdown:t}},beforeMount(){wwLib.getFrontDocument().addEventListener("click",this.handleClickOutside),wwLib.$on("ww-hover-dropdown:opened",e=>{e!==this.id&&(this.isVisible=!1,this.states=[])})},mounted(){this.isVisible=this.content.internalDisplay,this.updatePosition()},unmounted(){wwLib.$off("ww-hover-dropdown:opened"),wwLib.getFrontDocument().removeEventListener("click",this.handleClickOutside)},methods:{handleClickInside(){this.isVisible&&this.isMouseInContent&&this.content.closeOnClick==="outside"||this.content.trigger==="click"&&(this.isVisible=!this.isVisible)},handleClickOutside(){this.isMouseIn||(this.isVisible=!1)},handleMouseHover(e){this.isMouseIn=e,this.content.trigger==="mouseenter"&&(this.isVisible=e)},handleMobileClick(){this.isVisible&&this.isMouseInContent&&this.content.closeOnClick==="outside"||(this.isVisible=!this.isVisible)},updatePosition(){this.topPosition=this.$refs.dropdownElement.getBoundingClientRect().top}}},B={class:"dropdown-hover-trigger"},O={class:"dropdown__content--mobile"};function T(e,t,r,a,o,i){const w=c("wwElement",!0),p=c("wwLayoutItem"),h=c("wwLayout"),_=c("wwExpandTransition");return g(),M("div",{ref:"dropdownElement",class:"dropdown",style:u(i.cssVariables),"ww-responsive":"dropdown",onClick:t[8]||(t[8]=V(()=>{},["stop"]))},[d("div",{style:u({display:i.isMenuDisplayed?"none":"block"}),class:"dropdown-default","ww-responsive":"dropdown-desktop",onClick:t[2]||(t[2]=(...n)=>i.handleClickInside&&i.handleClickInside(...n)),onMouseenter:t[3]||(t[3]=n=>i.handleMouseHover(!0)),onMouseleave:t[4]||(t[4]=n=>i.handleMouseHover(!1))},[d("div",B,[s(h,{class:"dropdown__layout",path:"dropdown"},{default:l(({item:n})=>[s(p,null,{default:l(()=>[s(w,f(n,{states:o.isVisible?["On Hover"]:[]}),null,16,["states"])]),_:2},1024)]),_:1})]),s(C,{name:r.content.appearAnimation,mode:"out-in"},{default:l(()=>[b(d("div",{style:u({display:o.isVisible?"block":"none"}),"ww-responsive":"dropdown-content-desktop",class:"dropdown__content under"},[s(h,{ref:"dropdownContent",class:"layout",path:"dropdownContent",onMouseenter:t[0]||(t[0]=n=>o.isMouseInContent=!0),onMouseleave:t[1]||(t[1]=n=>o.isMouseInContent=!1)},{default:l(({item:n})=>[s(p,null,{default:l(()=>[s(w,f(n,{states:o.states}),null,16,["states"])]),_:2},1024)]),_:1},512)],4),[[y,o.isVisible]])]),_:1},8,["name"])],36),d("div",{style:u({display:i.isMenuDisplayed?"block":"none"}),class:"dropdown-mobile","ww-responsive":"dropdown-mobile",onClick:t[7]||(t[7]=(...n)=>i.handleMobileClick&&i.handleMobileClick(...n))},[s(h,{class:"dropdown__layout--mobile",path:"dropdown"},{default:l(({item:n})=>[s(p,null,{default:l(()=>[s(w,f(n,{states:o.states}),null,16,["states"])]),_:2},1024)]),_:1}),d("div",O,[s(_,null,{default:l(()=>[b(s(h,{style:u({display:o.isVisible?"flex":"none"}),"ww-responsive":"dropdown-content-mobile",ref:"dropdownContent",class:"layout",path:"dropdownContent",onMouseenter:t[5]||(t[5]=n=>o.isMouseInContent=!0),onMouseleave:t[6]||(t[6]=n=>o.isMouseInContent=!1)},{default:l(({item:n})=>[s(p,null,{default:l(()=>[s(w,f(n,{states:o.states}),null,16,["states"])]),_:2},1024)]),_:1},8,["style"]),[[y,o.isVisible]])]),_:1})])],4)],4)}const H=v(D,[["render",T],["__scopeId","data-v-81c9cf79"]]);export{H as e};
