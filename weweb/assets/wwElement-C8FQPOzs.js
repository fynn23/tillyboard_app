import{_,e as g,o as l,g as k,b as f,d as s,l as u,i as y,h as x,c as o,j as m,f as E,x as b,m as h,P as q,r as v,k as C,n as I,N as V}from"./main-CAT7wj_B.js";const j={props:{content:{type:Object,required:!0},states:{type:Array,default:()=>[]}},emits:["add-state","remove-state"],setup(e,{emit:n}){const{getIcon:t}=wwLib.useIcons(),i=f(null),r=s(()=>e.content.icon);u(r,async c=>{try{i.value=await t(c)}catch{i.value=null}},{immediate:!0});const a=y("checkboxStates",f([]));return u(()=>a.value.includes("checked"),c=>{n(c?"add-state":"remove-state","checked")},{immediate:!0}),u(()=>a.value.includes("readonly"),c=>{n(c?"add-state":"remove-state","readonly")},{immediate:!0}),{iconText:i,injectedStates:a}},computed:{isChecked(){return this.injectedStates.includes("checked")},iconHTML(){return this.isChecked,this.iconText},style(){return{color:this.content.color}}}},L=["innerHTML"];function M(e,n,t,i,r,a){return l(),g("div",{class:"ww-checkbox",style:k(a.style),innerHTML:a.iconHTML},null,12,L)}const B=_(j,[["render",M],["__scopeId","data-v-1e9e62d9"]]),P={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["update:content:effect","trigger-event","add-state","remove-state"],setup(e,{emit:n}){const{value:t,setValue:i}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"boolean",defaultValue:s(()=>e.content.value===void 0?!1:e.content.value)}),r=y("_wwForm:useForm",()=>{}),a=s(()=>e.content.fieldName),c=s(()=>e.content.validation),d=s(()=>e.content.customValidation),S=s(()=>e.content.required);r(t,{fieldName:a,validation:c,customValidation:d,required:S,initialValue:s(()=>e.content.value)},{elementState:e.wwElementState,emit:n,sidepanelFormPath:"form",setValue:i});const w=f([]);return V("checkboxStates",w),{variableValue:t,setValue:i,uniqueId:wwLib.wwUtils.getUid(),reactiveCheckboxStates:w}},computed:{value(){return!!this.variableValue},isEditing(){return!1},isSelected(){return!1},cssVariables(){let e="row";this.content.containerPosition==="left"||this.content.containerPosition==="right"?this.content.containerPosition==="left"?e="row-reverse":e="row":this.content.containerPosition==="top"?e="column-reverse":e="column";const n={"--container-direction":e};return this.content.containerGap?n["--container-gap"]=this.content.containerGap:n["--container-gap"]="0px",n},isReadonly(){return this.wwElementState.props.readonly===void 0?this.content.readonly:this.wwElementState.props.readonly},attributes(){return this.wwElementState.props.attributes},checkboxStates(){const e=[];return this.value&&!this.isSelected&&e.push("checked"),this.isReadonly&&e.push("readonly"),this.reactiveCheckboxStates.splice(0,this.reactiveCheckboxStates.length,...e),e}},watch:{"content.value"(e){e=!!e,e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}},value:{immediate:!0,handler(e){e?this.$emit("add-state","checked"):this.$emit("remove-state","checked")}}},methods:{handleManualInput(e){const n=!!e.target.checked;n!==this.value&&(this.setValue(n),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:n}}))}}},N=["id","checked","value","name","required","disabled"];function T(e,n,t,i,r,a){const c=x("wwElement",!0);return l(),o(v(a.isEditing?"div":"label"),{class:I(["ww-webapp-checkbox",{editing:a.isEditing}]),style:k(a.cssVariables),for:`${t.wwElementState.name}-${i.uniqueId}-${t.uid}`},{default:m(()=>[E("input",h({id:`${t.wwElementState.name}-${i.uniqueId}-${t.uid}`,ref:"checkboxInput",checked:a.value,value:a.value,type:"checkbox",name:`${t.wwElementState.name}-${i.uniqueId}-${t.uid}`,class:t.content.checkbox&&"hidden",required:t.content.required,disabled:a.isReadonly},a.attributes,{onInput:n[0]||(n[0]=d=>a.handleManualInput(d)),onClick:n[1]||(n[1]=q(()=>{},["stop"]))}),null,16,N),t.content.checkbox?(l(),o(v(a.isEditing?"div":"label"),{key:0,for:`${t.wwElementState.name}-${i.uniqueId}-${t.uid}`},{default:m(()=>[C(c,h(t.content.checkbox,{states:a.checkboxStates}),null,16,["states"])]),_:1},8,["for"])):b("",!0),(l(),o(v(a.isEditing?"div":"label"),{for:`${t.wwElementState.name}-${i.uniqueId}-${t.uid}`},{default:m(()=>[t.content.isEmbeddedContainer?(l(),o(c,h({key:0,class:"embedded-container"},t.content.embeddedContainer),null,16)):b("",!0)]),_:1},8,["for"]))]),_:1},8,["style","class","for"])}const H=_(P,[["render",T],["__scopeId","data-v-9a86ac4c"]]);export{H as a,B as e};
